{"ast":null,"code":"import { EventEmitter } from \"events\";\nimport WebSocketListenerInstance from \"../ws/WebSocketListener\";\n\nclass Question extends EventEmitter {\n  constructor() {\n    super();\n    this.state = {\n      questions: [{\n        title: \"Title1\",\n        body: \"Body1\",\n        createTime: \"2022-03-21 16:01:17\",\n        author: \"Username1\",\n        tags: [\"java\", \"tag\"],\n        upvotes: 1,\n        downvotes: 0\n      }, {\n        title: \"Title12\",\n        body: \"Body2\",\n        createTime: \"2022-03-21 16:01:17\",\n        author: \"Username2\",\n        tags: [\"java\"],\n        upvotes: 0,\n        downvotes: 1\n      }]\n    };\n    WebSocketListenerInstance.on(\"QUESTION_CREATED\", event => {\n      QuestionInstance.addQuestion(event.question);\n      this.emit(\"QuestionAdded\", this.state.questions);\n    });\n  }\n\n  addTagToQuestion(index, tag) {\n    this.state.questions[index].tags = [...this.state.questions[index].tags, tag];\n  }\n\n  addQuestion(questions) {\n    this.state.questions = [...questions];\n  }\n\n  getQuestion() {\n    return this.state.questions;\n  }\n\n  getQuestionByText(text) {\n    return this.state.questions.filter(item => item.body.includes(text) || item.tags.includes(text) || item.title.includes(text));\n  }\n\n  getQuestionbyId(id) {\n    return this.state.questions[id];\n  }\n\n  upvote(index) {\n    console.log(\"before \" + index + \"  \" + this.state.questions[index].upvotes);\n    this.state.questions[index].upvotes = this.state.questions[index].upvotes + 1;\n    console.log(\"after \" + index + \"  \" + this.state.questions[index].upvotes);\n  }\n\n  downvote(index) {\n    this.state.questions[index].downvotes = this.state.questions[index].downvotes + 1;\n  }\n\n  getVotes(index) {\n    var votes = this.state.questions[index].upvotes - this.state.questions[index].downvotes;\n    return votes;\n  }\n\n}\n\nconst QuestionInstance = new Question();\nexport default QuestionInstance;","map":{"version":3,"sources":["C:/Users/Iasmina/Desktop/a2/assigenemnt2/src/model/Question.js"],"names":["EventEmitter","WebSocketListenerInstance","Question","constructor","state","questions","title","body","createTime","author","tags","upvotes","downvotes","on","event","QuestionInstance","addQuestion","question","emit","addTagToQuestion","index","tag","getQuestion","getQuestionByText","text","filter","item","includes","getQuestionbyId","id","upvote","console","log","downvote","getVotes","votes"],"mappings":"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","sourcesContent":["import { EventEmitter } from \"events\"\r\nimport WebSocketListenerInstance from \"../ws/WebSocketListener\"\r\n\r\nclass Question extends EventEmitter{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            questions: [{\r\n                title: \"Title1\",\r\n                body: \"Body1\",\r\n                createTime: \"2022-03-21 16:01:17\",\r\n                author: \"Username1\",\r\n                tags: [\"java\", \"tag\"],\r\n                upvotes: 1,\r\n                downvotes: 0\r\n            },\r\n            {\r\n                title: \"Title12\",\r\n                body: \"Body2\",\r\n                createTime: \"2022-03-21 16:01:17\",\r\n                author: \"Username2\",\r\n                tags: [\"java\"],\r\n                upvotes: 0,\r\n                downvotes: 1\r\n            }\r\n            ]\r\n        };\r\n        WebSocketListenerInstance.on(\"QUESTION_CREATED\", event => {\r\n            QuestionInstance.addQuestion(event.question);\r\n            this.emit(\"QuestionAdded\", this.state.questions);\r\n        })\r\n    }\r\n\r\n    addTagToQuestion(index,tag) {\r\n        this.state.questions[index].tags = [\r\n            ...this.state.questions[index].tags,\r\n            tag\r\n        ];\r\n    }\r\n\r\n    addQuestion(questions) {\r\n        this.state.questions = [\r\n            ...questions\r\n        ];\r\n    }\r\n\r\n    getQuestion() {\r\n        return this.state.questions;\r\n    }\r\n\r\n    getQuestionByText(text) {\r\n        return this.state.questions.filter(item => item.body.includes(text) || item.tags.includes(text) || item.title.includes(text));\r\n    }\r\n\r\n    getQuestionbyId(id) {\r\n        return this.state.questions[id];\r\n    }\r\n\r\n    upvote(index) {\r\n        console.log(\"before \" + index + \"  \" + this.state.questions[index].upvotes)\r\n        this.state.questions[index].upvotes = this.state.questions[index].upvotes + 1\r\n        console.log(\"after \" + index + \"  \" + this.state.questions[index].upvotes)\r\n    }\r\n\r\n    downvote(index) {\r\n        this.state.questions[index].downvotes = this.state.questions[index].downvotes + 1\r\n    }\r\n\r\n    getVotes(index) {\r\n        var votes = this.state.questions[index].upvotes - this.state.questions[index].downvotes\r\n        return votes\r\n    }\r\n}\r\nconst QuestionInstance = new Question();\r\nexport default QuestionInstance;"]},"metadata":{},"sourceType":"module"}