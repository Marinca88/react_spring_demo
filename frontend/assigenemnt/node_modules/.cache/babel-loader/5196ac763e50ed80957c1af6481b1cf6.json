{"ast":null,"code":"import AnswareInstance from '../model/Answare';\nimport RestClient from '../rest/RestClient';\nconst client = new RestClient(\"username1\", \"password\");\n\nclass AnswarePresenter {\n  async addAnsware(newAnsware) {\n    var answares = await client.loadRefreshedAnswares(newAnsware.upvotes, newAnsware.downvotes, newAnsware.text, newAnsware.referenceQuestion);\n    AnswareInstance.addAnswares(answares);\n    return AnswareInstance.getAnswares();\n  }\n\n  removeAnsware(index) {\n    return AnswareInstance.removeAnsware(index);\n  }\n\n  async editAnsware(answare) {\n    var answares = await client.loadAllAnswares();\n    client.log(answares);\n    var ind = answares.indexOf(answares.find(element => element.text === answare.text && answare.authorUsername == element.author && element.question_id == answare.referenceQuestion));\n    client.log(ind);\n    var el = await client.editAnsware(ind, answare.text);\n\n    if (el.text == \"Updated\") {\n      var returnedAnswares = await client.loadAnswaresForQuestion(answare.referenceQuestion);\n      return returnedAnswares;\n    }\n  }\n\n  async getAnswaresForQuestion(index) {\n    var answares = await client.loadAnswaresForQuestion(index);\n    AnswareInstance.addAnswares(answares);\n    return AnswareInstance.getAnswares();\n  }\n\n  getAnswares() {\n    return AnswareInstance.getAnswares();\n  }\n\n  upvote(index) {\n    return AnswareInstance.upvote(index);\n  }\n\n  downvote(index) {\n    return AnswareInstance.downvote(index);\n  }\n\n  getVotes(index) {\n    return AnswareInstance.getVotes(index);\n  }\n\n}\n\nconst AnswarePresenterInstance = new AnswarePresenter();\nexport default AnswarePresenterInstance;","map":{"version":3,"sources":["C:/Users/Iasmina/Desktop/a2/assigenemnt2/src/presenter/AnswarePresenter.js"],"names":["AnswareInstance","RestClient","client","AnswarePresenter","addAnsware","newAnsware","answares","loadRefreshedAnswares","upvotes","downvotes","text","referenceQuestion","addAnswares","getAnswares","removeAnsware","index","editAnsware","answare","loadAllAnswares","log","ind","indexOf","find","element","authorUsername","author","question_id","el","returnedAnswares","loadAnswaresForQuestion","getAnswaresForQuestion","upvote","downvote","getVotes","AnswarePresenterInstance"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,kBAA5B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AAEA,MAAMC,MAAM,GAAG,IAAID,UAAJ,CAAe,WAAf,EAA4B,UAA5B,CAAf;;AACA,MAAME,gBAAN,CAAuB;AACH,QAAVC,UAAU,CAACC,UAAD,EAAa;AACzB,QAAIC,QAAQ,GAAG,MAAMJ,MAAM,CAACK,qBAAP,CAA6BF,UAAU,CAACG,OAAxC,EAAiDH,UAAU,CAACI,SAA5D,EAAuEJ,UAAU,CAACK,IAAlF,EAAwFL,UAAU,CAACM,iBAAnG,CAArB;AACAX,IAAAA,eAAe,CAACY,WAAhB,CAA4BN,QAA5B;AACA,WAAON,eAAe,CAACa,WAAhB,EAAP;AACH;;AAEDC,EAAAA,aAAa,CAACC,KAAD,EAAQ;AACjB,WAAOf,eAAe,CAACc,aAAhB,CAA8BC,KAA9B,CAAP;AACH;;AAEgB,QAAXC,WAAW,CAACC,OAAD,EAAU;AACvB,QAAIX,QAAQ,GAAG,MAAMJ,MAAM,CAACgB,eAAP,EAArB;AACAhB,IAAAA,MAAM,CAACiB,GAAP,CAAWb,QAAX;AACA,QAAIc,GAAG,GAAGd,QAAQ,CAACe,OAAT,CAAiBf,QAAQ,CAACgB,IAAT,CAAcC,OAAO,IAAIA,OAAO,CAACb,IAAR,KAAiBO,OAAO,CAACP,IAAzB,IAAiCO,OAAO,CAACO,cAAR,IAA0BD,OAAO,CAACE,MAAnE,IAA6EF,OAAO,CAACG,WAAR,IAAuBT,OAAO,CAACN,iBAArI,CAAjB,CAAV;AACAT,IAAAA,MAAM,CAACiB,GAAP,CAAWC,GAAX;AACA,QAAIO,EAAE,GAAG,MAAMzB,MAAM,CAACc,WAAP,CAAmBI,GAAnB,EAAwBH,OAAO,CAACP,IAAhC,CAAf;;AACA,QAAIiB,EAAE,CAACjB,IAAH,IAAW,SAAf,EAA0B;AAC1B,UAAIkB,gBAAgB,GAAG,MAAM1B,MAAM,CAAC2B,uBAAP,CAA+BZ,OAAO,CAACN,iBAAvC,CAA7B;AACA,aAAOiB,gBAAP;AACC;AACJ;;AAC2B,QAAtBE,sBAAsB,CAACf,KAAD,EAAQ;AAChC,QAAIT,QAAQ,GAAG,MAAMJ,MAAM,CAAC2B,uBAAP,CAA+Bd,KAA/B,CAArB;AACAf,IAAAA,eAAe,CAACY,WAAhB,CAA4BN,QAA5B;AACA,WAAON,eAAe,CAACa,WAAhB,EAAP;AACH;;AACDA,EAAAA,WAAW,GAAG;AACV,WAAOb,eAAe,CAACa,WAAhB,EAAP;AACH;;AAEDkB,EAAAA,MAAM,CAAChB,KAAD,EAAQ;AACV,WAAOf,eAAe,CAAC+B,MAAhB,CAAuBhB,KAAvB,CAAP;AACH;;AAEDiB,EAAAA,QAAQ,CAACjB,KAAD,EAAQ;AACZ,WAAOf,eAAe,CAACgC,QAAhB,CAAyBjB,KAAzB,CAAP;AACH;;AAEDkB,EAAAA,QAAQ,CAAClB,KAAD,EAAQ;AACZ,WAAOf,eAAe,CAACiC,QAAhB,CAAyBlB,KAAzB,CAAP;AACH;;AAzCkB;;AA2CvB,MAAMmB,wBAAwB,GAAG,IAAI/B,gBAAJ,EAAjC;AACA,eAAe+B,wBAAf","sourcesContent":["import AnswareInstance from '../model/Answare'\r\nimport RestClient from '../rest/RestClient';\r\n\r\nconst client = new RestClient(\"username1\", \"password\");\r\nclass AnswarePresenter {\r\n    async addAnsware(newAnsware) {\r\n        var answares = await client.loadRefreshedAnswares(newAnsware.upvotes, newAnsware.downvotes, newAnsware.text, newAnsware.referenceQuestion)\r\n        AnswareInstance.addAnswares(answares);\r\n        return AnswareInstance.getAnswares();\r\n    }\r\n\r\n    removeAnsware(index) {\r\n        return AnswareInstance.removeAnsware(index);\r\n    }\r\n\r\n    async editAnsware(answare) {\r\n        var answares = await client.loadAllAnswares()\r\n        client.log(answares);\r\n        var ind = answares.indexOf(answares.find(element => element.text === answare.text && answare.authorUsername == element.author && element.question_id == answare.referenceQuestion));\r\n        client.log(ind);\r\n        var el = await client.editAnsware(ind, answare.text);\r\n        if (el.text == \"Updated\") { \r\n        var returnedAnswares = await client.loadAnswaresForQuestion(answare.referenceQuestion);\r\n        return returnedAnswares;\r\n        }\r\n    }\r\n    async getAnswaresForQuestion(index) {\r\n        var answares = await client.loadAnswaresForQuestion(index);\r\n        AnswareInstance.addAnswares(answares);\r\n        return AnswareInstance.getAnswares();\r\n    }\r\n    getAnswares() {\r\n        return AnswareInstance.getAnswares();\r\n    }\r\n\r\n    upvote(index) {\r\n        return AnswareInstance.upvote(index);\r\n    }\r\n\r\n    downvote(index) {\r\n        return AnswareInstance.downvote(index);\r\n    }\r\n\r\n    getVotes(index) {\r\n        return AnswareInstance.getVotes(index);\r\n    }\r\n}\r\nconst AnswarePresenterInstance = new AnswarePresenter();\r\nexport default AnswarePresenterInstance;"]},"metadata":{},"sourceType":"module"}