{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar Field = require('react-input-field/src');\n\nvar assign = require('object-assign');\n\nvar normalize = require('react-style-normalizer');\n\nfunction emptyFn() {}\n\nvar getSelectionStart = require('./getSelectionStart');\n\nvar getSelectionEnd = require('./getSelectionEnd');\n\nvar setSelectionRange = require('./setSelectionRange');\n\nvar preventDefault = function (event) {\n  event.preventDefault();\n};\n\nfunction insert(target, index, what) {\n  if (index == -1) {\n    return target.concat(what);\n  }\n\n  return target.slice(0, index).concat(what).concat(target.slice(index));\n}\n\nmodule.exports = React.createClass({\n  displayName: 'ReactTagField',\n  getSelectionStart: function () {\n    return getSelectionStart(this.refs.field.getInput());\n  },\n  getSelectionEnd: function () {\n    return getSelectionEnd(this.refs.field.getInput());\n  },\n  setSelectionRange: function (range) {\n    var start = range.start;\n    var end = range.end;\n    setSelectionRange(this.refs.field.getInput(), range);\n  },\n  getDefaultProps: function () {\n    return {\n      minInputSize: 3,\n      selectedTagStyle: {\n        background: 'rgb(200, 200, 200)'\n      },\n      focusOnClick: true,\n      selectableTags: true,\n      clearTool: false,\n      tagOnBlur: false,\n      tagClearTool: false,\n      allowDuplicates: false,\n      editableTags: true,\n      delimiter: ' ',\n      tagClearToolColor: '#a8a8a8',\n      defaultStyle: {\n        overflow: 'hidden'\n      },\n      defaultInputStyle: {\n        flex: 'none',\n        alignSelf: 'center' // minWidth: 50\n\n      },\n      defaultInnerStyle: {\n        display: 'inline-flex',\n        flexFlow: 'row wrap'\n      },\n      defaultTagStyle: {\n        display: 'inline-flex',\n        boxSizing: 'border-box',\n        alignItems: 'center',\n        flex: 'none',\n        flexFlow: 'row',\n        padding: '6px 2px',\n        marginLeft: 2,\n        marginTop: 1,\n        marginBottom: 1,\n        border: '1px solid gray',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap'\n      },\n      defaultTagClearToolStyle: {\n        cursor: 'pointer'\n      },\n      validateTag: function (x) {\n        return x !== '' && x != null;\n      }\n    };\n  },\n  getInitialState: function () {\n    return {\n      defaultValue: this.props.defaultValue,\n      defaultTags: this.props.defaultTags,\n      activeTagIndex: -1\n    };\n  },\n  getValue: function () {\n    var value = this.props.value === undefined ? this.state.defaultValue : this.props.value;\n    return value;\n  },\n  render: function () {\n    var props = this.prepareProps(this.props, this.state);\n    var inputSize = Math.max(props.value ? props.value.length : 0, this.props.minInputSize);\n    return React.createElement(Field, React.__spread({\n      ref: \"field\"\n    }, props, {\n      inputProps: {\n        size: inputSize\n      }\n    }));\n  },\n  getInfoForValue: function (value, propsTags) {\n    var props = this.props;\n    var state = this.state;\n    var activeTagIndex = state.activeTagIndex;\n    var tags = value.split(props.delimiter);\n    var newValue = tags[tags.length - 1];\n    var tagMap = {};\n\n    if (!props.allowDuplicates) {\n      propsTags = propsTags || this.prepareTags(this.props);\n      propsTags.forEach(function (tag, index) {\n        if (index != activeTagIndex) {\n          tagMap[tag] = true;\n        }\n      });\n    }\n\n    tags = tags.slice(0, tags.length - 1).filter(function (x) {\n      return x && !tagMap[x];\n    });\n    return {\n      tags: tags,\n      value: newValue\n    };\n  },\n  handleClick: function (props, event) {\n    if (!event.nativeEvent.tagClick) {\n      this.props.focusOnClick && this.focus();\n      this.setState({\n        activeTagIndex: -1\n      });\n    }\n\n    ;\n    (this.props.onClick || emptyFn)(event);\n  },\n  handleBlur: function (props, event) {\n    if (props.tagOnBlur && props.validateTag(props.value)) {\n      this.handleChange(props, props.value + props.delimiter, null, event);\n    }\n\n    ;\n    (this.props.onBlur || emptyFn)(event);\n  },\n  handleChange: function (props, value, inputProps, event) {\n    var state = this.state;\n    var info = this.getInfoForValue(value, props.tags);\n    var newTags = info.tags;\n    var allTags = props.editableTags ? insert(props.tags, state.activeTagIndex, newTags) : [].concat(props.tags).concat(newTags);\n\n    if (newTags.length && state.activeTagIndex != -1 && props.editableTags) {\n      this.setState({\n        activeTagIndex: state.activeTagIndex + 1\n      });\n    }\n\n    this.notifyChange(props, info.value, allTags, event);\n  },\n  notifyChange: function (props, newValue, allTags, event) {\n    var newState = {};\n    (this.props.onChangeTags || emptyFn)(allTags);\n\n    if (this.props.tags == null) {\n      newState.defaultTags = allTags;\n    }\n\n    if (this.props.value == null) {\n      newState.defaultValue = newValue;\n    }\n\n    this.setState(newState);\n    (this.props.onChange || emptyFn)(newValue, this.props, event);\n  },\n  handleKeyDown: function (props, event) {\n    var key = event.key;\n\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n\n    if (!props.tags.length || !props.editableTags) {\n      return;\n    }\n\n    if (key != 'Backspace' && key != 'ArrowLeft' && key != 'ArrowRight' && key != 'Delete') {\n      return;\n    }\n\n    var value = props.value + '';\n    var index = this.state.activeTagIndex;\n    var tags = props.tags;\n    var textToLeft;\n    var textToRight;\n    var selectionStart = this.getSelectionStart();\n    var selectionEnd = this.getSelectionEnd();\n\n    if (selectionStart < selectionEnd) {\n      return;\n    }\n\n    if (key == 'ArrowLeft' || key == 'Backspace') {\n      textToLeft = value.substring(0, selectionStart);\n    }\n\n    if (key == 'ArrowRight' || key == 'Delete') {\n      textToRight = value.substring(selectionEnd);\n    }\n\n    if ((key == 'Backspace' || key == 'ArrowLeft') && textToLeft === '') {\n      //if there is no other character at the left of the cursor,\n      //go to the tag before the cursor\n      if (index == -1) {\n        index = tags.length;\n      }\n\n      index--;\n\n      if (index >= 0) {\n        this.setActiveTagIndex(props, index);\n        event.preventDefault();\n      }\n    }\n\n    if ((key == 'ArrowRight' || key == 'Delete') && textToRight == '' && tags[index]) {\n      event.preventDefault();\n      this.setActiveTagIndex(props, index, function () {\n        this.setSelectionRange({\n          start: 0,\n          end: 0\n        });\n      }.bind(this));\n    }\n  },\n  removeTag: function (props, index) {\n    var allTags = this.tags.filter(function (tag, i) {\n      return i !== index;\n    });\n    var activeTagIndex = this.state.activeTagIndex;\n\n    if (activeTagIndex != -1 && activeTagIndex > index) {\n      //an item was removed from before the editing tag\n      //so bring the editing index one down\n      this.setState({\n        activeTagIndex: activeTagIndex - 1\n      });\n    }\n\n    this.notifyChange(props, props.value, allTags);\n  },\n  setActiveTagIndex: function (props, index, callback) {\n    var currentValue = props.value;\n    var shouldAddCurrent = props.validateTag(currentValue);\n    var state = this.state;\n    var value;\n    var allTags = [];\n    var tags = this.tags;\n    var i = 0;\n    var len = tags.length;\n    var activeTagIndex = state.activeTagIndex;\n    var tag;\n\n    if (props.editableTags) {\n      var addCurrentValue;\n      var addCurrentTag;\n\n      for (; i < len; i++) {\n        tag = tags[i];\n        addCurrentValue = i == activeTagIndex;\n        addCurrentTag = i != index;\n\n        if (addCurrentValue) {\n          shouldAddCurrent && allTags.push(currentValue);\n        }\n\n        if (addCurrentTag) {\n          allTags.push(tag);\n        } else {\n          value = tag;\n        }\n      }\n\n      if (activeTagIndex == -1) {\n        shouldAddCurrent && allTags.push(currentValue);\n      } else {\n        if (shouldAddCurrent && index >= activeTagIndex) {\n          //the current value was added\n          index++;\n        }\n      }\n    } else {\n      allTags = tags;\n      value = currentValue;\n    }\n\n    if (index >= allTags.length) {\n      index = -1;\n    }\n\n    if (index < 0) {\n      index = -1;\n    }\n\n    this.setState({\n      activeTagIndex: index\n    }, callback || emptyFn);\n    this.notifyChange(props, value, allTags);\n  },\n  prepareProps: function (thisProps, state) {\n    var props = assign({}, thisProps);\n    this.prepareStyles(props, state);\n    props.tagStyle = this.prepareTagStyle(props, state);\n    props.tags = this.tags = this.prepareTags(props);\n    props.value = this.prepareValue(props, state);\n    props.renderChildren = this.renderChildren.bind(this, props);\n    props.onChange = this.handleChange.bind(this, props);\n    props.onBlur = this.handleBlur.bind(this, props);\n    props.onKeyDown = this.handleKeyDown.bind(this, props);\n    props.onClick = this.handleClick.bind(this, props);\n    props.focusOnClick = false;\n    return props;\n  },\n  prepareStyles: function (props, state) {\n    props.style = this.prepareStyle(props, state);\n    props.innerStyle = assign({}, props.defaultInnerStyle, props.innerStyle);\n    props.inputStyle = assign({}, props.defaultInputStyle, props.inputStyle);\n    props.tagClearToolStyle = this.prepareTagClearToolStyle(props, state);\n    delete props.defaultStyle;\n    delete props.defaultInnerStyle;\n    delete props.defaultInputStyle;\n  },\n  prepareTagClearToolStyle: function (props, state) {\n    var style = assign({}, props.defaultTagClearToolStyle, {\n      color: props.tagClearToolColor\n    }, props.tagClearToolStyle);\n    return style;\n  },\n  prepareStyle: function (props) {\n    var style = assign({}, props.defaultStyle, props.style);\n    return style;\n  },\n  prepareValue: function (props, state) {\n    return this.getValue();\n  },\n  prepareTags: function (props) {\n    var tags = props.tags;\n    var state = this.state;\n\n    if (tags == null) {\n      tags = state.defaultTags;\n    }\n\n    tags = Array.isArray(tags) && tags.length ? [].concat(tags) : [];\n    return tags.filter(props.validateTag);\n  },\n  prepareTagStyle: function (props, state) {\n    return assign({}, props.defaultTagStyle, props.tagStyle);\n  },\n  renderChildren: function (props, children) {\n    var result = children;\n    var state = this.state;\n    var tags = props.tags;\n\n    if (tags.length) {\n      tags = tags.map(function (tag, index) {\n        return this.renderTag(props, tag, index);\n      }, this);\n\n      if (state.activeTagIndex == -1 || !props.editableTags) {\n        result = tags.concat(children);\n      } else {\n        result = tags.slice(0, state.activeTagIndex).concat(children).concat(tags.slice(state.activeTagIndex));\n      }\n    }\n\n    result.push(this.renderHiddenField(props));\n    return result;\n  },\n  renderHiddenField: function (props) {\n    if (props.editableTags) {\n      return;\n    }\n\n    return React.createElement(\"input\", {\n      key: \"hiddenFocusField\",\n      type: \"text\",\n      ref: \"hiddenFocusField\",\n      onFocus: this.onHiddenFocus,\n      onKeyDown: this.onHiddenKeyDown.bind(this, props),\n      style: {\n        opacity: 0,\n        width: 0,\n        height: 0,\n        margin: 0,\n        boxSizing: 'border-box',\n        border: 0 // visibility: 'hidden'\n\n      }\n    });\n  },\n  onHiddenKeyDown: function (props, event) {\n    event.preventDefault();\n    var tags = this.tags;\n    var len = tags.length;\n    var activeTagIndex = this.state.activeTagIndex;\n\n    if (!len) {\n      return;\n    }\n\n    var key = event.key;\n    var dir;\n\n    if (key == 'ArrowLeft') {\n      dir = -1;\n    }\n\n    if (key == 'ArrowRight') {\n      dir = 1;\n    }\n\n    var newIndex;\n\n    if (dir) {\n      newIndex = activeTagIndex + dir;\n\n      if (newIndex < 0) {\n        newIndex = len - 1;\n      }\n\n      if (newIndex >= len) {\n        newIndex = 0;\n      }\n\n      this.setActiveTagIndex(props, newIndex);\n    } else {\n      if (key == 'Delete' || key == 'Backspace') {\n        this.removeTag(props, activeTagIndex);\n\n        if (key == 'Backspace' || activeTagIndex === len - 1) {\n          newIndex = activeTagIndex - 1;\n\n          if (newIndex < 0) {\n            newIndex = 0;\n          }\n\n          setTimeout(function () {\n            this.setActiveTagIndex(props, newIndex);\n          }.bind(this), 0);\n        }\n\n        if (len == 1) {\n          this.focus();\n        }\n      }\n\n      if (key == 'Escape') {\n        this.setActiveTagIndex(props, -1);\n        this.focus();\n        return;\n      }\n    }\n  },\n  focusHidden: function () {\n    this.getFocusField().getDOMNode().focus();\n  },\n  getFocusField: function () {\n    return this.refs.field.refs.hiddenFocusField;\n  },\n  renderTag: function (props, tag, index) {\n    var tool;\n    var tagClearTool = props.tagClearTool;\n\n    if (tagClearTool) {\n      if (typeof tagClearTool == 'function') {\n        tool = tagClearTool();\n      } else {\n        tool = React.createElement(\"span\", {\n          style: props.tagClearToolStyle,\n          onClick: this.onTagClearClick.bind(this, props, tag, index)\n        }, \"✖\");\n      }\n    }\n\n    var tagStyle = props.tagStyle;\n\n    if (!props.editableTags && index == this.state.activeTagIndex && props.selectableTags) {\n      tagStyle = assign({}, tagStyle, props.selectedTagStyle);\n    }\n\n    return React.createElement(\"span\", {\n      key: index,\n      style: tagStyle,\n      onMouseDown: preventDefault,\n      onClick: this.onTagClick.bind(this, props, tag, index)\n    }, tag, tool);\n  },\n  onTagClick: function (props, tag, index, event) {\n    if (props.selectableTags) {\n      this.focusHidden();\n    }\n\n    event.nativeEvent.tagClick = true;\n\n    if (event.nativeEvent.clearTag) {\n      return;\n    }\n\n    this.setActiveTagIndex(props, index);\n  },\n  onTagClearClick: function (props, tag, index, event) {\n    event.nativeEvent.clearTag = true;\n    this.removeTag(props, index);\n  },\n  notify: function (value, event) {\n    var field = this.refs.field;\n    field.notify(value, event);\n  },\n  focus: function (value, event) {\n    this.refs.field.focus();\n  }\n});","map":{"version":3,"sources":["C:/Users/Iasmina/Desktop/a2/assigenemnt2/node_modules/react-tag-editor/lib/index.js"],"names":["React","require","Field","assign","normalize","emptyFn","getSelectionStart","getSelectionEnd","setSelectionRange","preventDefault","event","insert","target","index","what","concat","slice","module","exports","createClass","displayName","refs","field","getInput","range","start","end","getDefaultProps","minInputSize","selectedTagStyle","background","focusOnClick","selectableTags","clearTool","tagOnBlur","tagClearTool","allowDuplicates","editableTags","delimiter","tagClearToolColor","defaultStyle","overflow","defaultInputStyle","flex","alignSelf","defaultInnerStyle","display","flexFlow","defaultTagStyle","boxSizing","alignItems","padding","marginLeft","marginTop","marginBottom","border","whiteSpace","defaultTagClearToolStyle","cursor","validateTag","x","getInitialState","defaultValue","props","defaultTags","activeTagIndex","getValue","value","undefined","state","render","prepareProps","inputSize","Math","max","length","createElement","__spread","ref","inputProps","size","getInfoForValue","propsTags","tags","split","newValue","tagMap","prepareTags","forEach","tag","filter","handleClick","nativeEvent","tagClick","focus","setState","onClick","handleBlur","handleChange","onBlur","info","newTags","allTags","notifyChange","newState","onChangeTags","onChange","handleKeyDown","key","onKeyDown","textToLeft","textToRight","selectionStart","selectionEnd","substring","setActiveTagIndex","bind","removeTag","i","callback","currentValue","shouldAddCurrent","len","addCurrentValue","addCurrentTag","push","thisProps","prepareStyles","tagStyle","prepareTagStyle","prepareValue","renderChildren","style","prepareStyle","innerStyle","inputStyle","tagClearToolStyle","prepareTagClearToolStyle","color","Array","isArray","children","result","map","renderTag","renderHiddenField","type","onFocus","onHiddenFocus","onHiddenKeyDown","opacity","width","height","margin","dir","newIndex","setTimeout","focusHidden","getFocusField","getDOMNode","hiddenFocusField","tool","onTagClearClick","onMouseDown","onTagClick","clearTag","notify"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAIC,OAAO,CAAC,OAAD,CAApB;;AACA,IAAIC,KAAK,GAAID,OAAO,CAAC,uBAAD,CAApB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIG,SAAS,GAAGH,OAAO,CAAC,wBAAD,CAAvB;;AAEA,SAASI,OAAT,GAAkB,CAAE;;AAEpB,IAAIC,iBAAiB,GAAGL,OAAO,CAAC,qBAAD,CAA/B;;AACA,IAAIM,eAAe,GAAKN,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAIO,iBAAiB,GAAGP,OAAO,CAAC,qBAAD,CAA/B;;AAEA,IAAIQ,cAAc,GAAG,UAASC,KAAT,EAAe;AACnCA,EAAAA,KAAK,CAACD,cAAN;AACA,CAFD;;AAIA,SAASE,MAAT,CAAgBC,MAAhB,EAAwBC,KAAxB,EAA+BC,IAA/B,EAAoC;AAEnC,MAAID,KAAK,IAAI,CAAC,CAAd,EAAgB;AACf,WAAOD,MAAM,CAACG,MAAP,CAAcD,IAAd,CAAP;AACA;;AAED,SAAOF,MAAM,CAACI,KAAP,CAAa,CAAb,EAAgBH,KAAhB,EACJE,MADI,CACGD,IADH,EAEJC,MAFI,CAEGH,MAAM,CAACI,KAAP,CAAaH,KAAb,CAFH,CAAP;AAGA;;AAEDI,MAAM,CAACC,OAAP,GAAiBlB,KAAK,CAACmB,WAAN,CAAkB;AAElCC,EAAAA,WAAW,EAAE,eAFqB;AAIlCd,EAAAA,iBAAiB,EAAE,YAAW;AAC7B,WAAOA,iBAAiB,CAAC,KAAKe,IAAL,CAAUC,KAAV,CAAgBC,QAAhB,EAAD,CAAxB;AACA,GANiC;AAQlChB,EAAAA,eAAe,EAAE,YAAW;AAC3B,WAAOA,eAAe,CAAC,KAAKc,IAAL,CAAUC,KAAV,CAAgBC,QAAhB,EAAD,CAAtB;AACA,GAViC;AAYlCf,EAAAA,iBAAiB,EAAE,UAASgB,KAAT,EAAgB;AAClC,QAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;AACA,QAAIC,GAAG,GAAKF,KAAK,CAACE,GAAlB;AAEAlB,IAAAA,iBAAiB,CAAC,KAAKa,IAAL,CAAUC,KAAV,CAAgBC,QAAhB,EAAD,EAA6BC,KAA7B,CAAjB;AACA,GAjBiC;AAmBlCG,EAAAA,eAAe,EAAE,YAAW;AAC3B,WAAO;AACNC,MAAAA,YAAY,EAAE,CADR;AAGNC,MAAAA,gBAAgB,EAAE;AACjBC,QAAAA,UAAU,EAAE;AADK,OAHZ;AAMNC,MAAAA,YAAY,EAAE,IANR;AAONC,MAAAA,cAAc,EAAE,IAPV;AASNC,MAAAA,SAAS,EAAE,KATL;AAUNC,MAAAA,SAAS,EAAE,KAVL;AAWNC,MAAAA,YAAY,EAAE,KAXR;AAYNC,MAAAA,eAAe,EAAE,KAZX;AAaNC,MAAAA,YAAY,EAAE,IAbR;AAcNC,MAAAA,SAAS,EAAE,GAdL;AAgBNC,MAAAA,iBAAiB,EAAE,SAhBb;AAkBNC,MAAAA,YAAY,EAAE;AACbC,QAAAA,QAAQ,EAAE;AADG,OAlBR;AAsBNC,MAAAA,iBAAiB,EAAE;AAClBC,QAAAA,IAAI,EAAE,MADY;AAElBC,QAAAA,SAAS,EAAE,QAFO,CAGlB;;AAHkB,OAtBb;AA4BNC,MAAAA,iBAAiB,EAAE;AACfC,QAAAA,OAAO,EAAK,aADG;AAEfC,QAAAA,QAAQ,EAAI;AAFG,OA5Bb;AAiCNC,MAAAA,eAAe,EAAE;AAChBF,QAAAA,OAAO,EAAO,aADE;AAEhBG,QAAAA,SAAS,EAAE,YAFK;AAGhBC,QAAAA,UAAU,EAAI,QAHE;AAIhBP,QAAAA,IAAI,EAAE,MAJU;AAKhBI,QAAAA,QAAQ,EAAM,KALE;AAMhBI,QAAAA,OAAO,EAAE,SANO;AAOhBC,QAAAA,UAAU,EAAI,CAPE;AAQhBC,QAAAA,SAAS,EAAI,CARG;AAShBC,QAAAA,YAAY,EAAI,CATA;AAUhBC,QAAAA,MAAM,EAAQ,gBAVE;AAWhBd,QAAAA,QAAQ,EAAM,QAXE;AAYhBe,QAAAA,UAAU,EAAI;AAZE,OAjCX;AAgDNC,MAAAA,wBAAwB,EAAE;AACzBC,QAAAA,MAAM,EAAE;AADiB,OAhDpB;AAoDNC,MAAAA,WAAW,EAAE,UAASC,CAAT,EAAW;AACvB,eAAOA,CAAC,KAAK,EAAN,IAAYA,CAAC,IAAI,IAAxB;AACA;AAtDK,KAAP;AAwDA,GA5EiC;AA8ElCC,EAAAA,eAAe,EAAE,YAAU;AACvB,WAAO;AACTC,MAAAA,YAAY,EAAI,KAAKC,KAAL,CAAWD,YADlB;AAETE,MAAAA,WAAW,EAAK,KAAKD,KAAL,CAAWC,WAFlB;AAGTC,MAAAA,cAAc,EAAE,CAAC;AAHR,KAAP;AAKH,GApFiC;AAsFlCC,EAAAA,QAAQ,EAAE,YAAW;AACjB,QAAIC,KAAK,GAAG,KAAKJ,KAAL,CAAWI,KAAX,KAAqBC,SAArB,GACI,KAAKC,KAAL,CAAWP,YADf,GAEI,KAAKC,KAAL,CAAWI,KAF3B;AAIA,WAAOA,KAAP;AACH,GA5FiC;AA8FlCG,EAAAA,MAAM,EAAE,YAAW;AAElB,QAAIP,KAAK,GAAO,KAAKQ,YAAL,CAAkB,KAAKR,KAAvB,EAA8B,KAAKM,KAAnC,CAAhB;AACA,QAAIG,SAAS,GAAGC,IAAI,CAACC,GAAL,CAASX,KAAK,CAACI,KAAN,GAAaJ,KAAK,CAACI,KAAN,CAAYQ,MAAzB,GAAiC,CAA1C,EAA6C,KAAKZ,KAAL,CAAWnC,YAAxD,CAAhB;AAEA,WAAO5B,KAAK,CAAC4E,aAAN,CAAoB1E,KAApB,EAA2BF,KAAK,CAAC6E,QAAN,CAAe;AAACC,MAAAA,GAAG,EAAE;AAAN,KAAf,EAAgCf,KAAhC,EAAuC;AAACgB,MAAAA,UAAU,EAAE;AAACC,QAAAA,IAAI,EAAER;AAAP;AAAb,KAAvC,CAA3B,CAAP;AACA,GApGiC;AAsGlCS,EAAAA,eAAe,EAAE,UAASd,KAAT,EAAgBe,SAAhB,EAA2B;AAC3C,QAAInB,KAAK,GAAY,KAAKA,KAA1B;AACA,QAAIM,KAAK,GAAY,KAAKA,KAA1B;AACA,QAAIJ,cAAc,GAAGI,KAAK,CAACJ,cAA3B;AAEA,QAAIkB,IAAI,GAAOhB,KAAK,CAACiB,KAAN,CAAYrB,KAAK,CAACzB,SAAlB,CAAf;AACA,QAAI+C,QAAQ,GAAGF,IAAI,CAACA,IAAI,CAACR,MAAL,GAAc,CAAf,CAAnB;AACA,QAAIW,MAAM,GAAK,EAAf;;AAEG,QAAI,CAACvB,KAAK,CAAC3B,eAAX,EAA2B;AAC1B8C,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAKK,WAAL,CAAiB,KAAKxB,KAAtB,CAAzB;AAEAmB,MAAAA,SAAS,CAACM,OAAV,CAAkB,UAASC,GAAT,EAAc5E,KAAd,EAAoB;AACrC,YAAIA,KAAK,IAAIoD,cAAb,EAA4B;AAC3BqB,UAAAA,MAAM,CAACG,GAAD,CAAN,GAAc,IAAd;AACA;AACD,OAJD;AAKH;;AAEEN,IAAAA,IAAI,GAAGA,IAAI,CAACnE,KAAL,CAAW,CAAX,EAAcmE,IAAI,CAACR,MAAL,GAAc,CAA5B,EAA+Be,MAA/B,CAAsC,UAAS9B,CAAT,EAAW;AACvD,aAAOA,CAAC,IAAI,CAAC0B,MAAM,CAAC1B,CAAD,CAAnB;AACA,KAFM,CAAP;AAIA,WAAO;AACTuB,MAAAA,IAAI,EAAGA,IADE;AAEThB,MAAAA,KAAK,EAAEkB;AAFE,KAAP;AAKH,GAlIiC;AAoIlCM,EAAAA,WAAW,EAAE,UAAS5B,KAAT,EAAgBrD,KAAhB,EAAuB;AAEnC,QAAI,CAACA,KAAK,CAACkF,WAAN,CAAkBC,QAAvB,EAAgC;AAC/B,WAAK9B,KAAL,CAAWhC,YAAX,IAA2B,KAAK+D,KAAL,EAA3B;AACA,WAAKC,QAAL,CAAc;AACb9B,QAAAA,cAAc,EAAE,CAAC;AADJ,OAAd;AAGA;;AAED;AAAC,KAAC,KAAKF,KAAL,CAAWiC,OAAX,IAAsB3F,OAAvB,EAAgCK,KAAhC;AACD,GA9IiC;AAgJlCuF,EAAAA,UAAU,EAAE,UAASlC,KAAT,EAAgBrD,KAAhB,EAAuB;AAClC,QAAIqD,KAAK,CAAC7B,SAAN,IAAmB6B,KAAK,CAACJ,WAAN,CAAkBI,KAAK,CAACI,KAAxB,CAAvB,EAAsD;AACrD,WAAK+B,YAAL,CAAkBnC,KAAlB,EAAyBA,KAAK,CAACI,KAAN,GAAcJ,KAAK,CAACzB,SAA7C,EAAwD,IAAxD,EAA8D5B,KAA9D;AACA;;AAED;AAAC,KAAC,KAAKqD,KAAL,CAAWoC,MAAX,IAAqB9F,OAAtB,EAA+BK,KAA/B;AACD,GAtJiC;AAwJlCwF,EAAAA,YAAY,EAAE,UAASnC,KAAT,EAAgBI,KAAhB,EAAuBY,UAAvB,EAAmCrE,KAAnC,EAAyC;AACtD,QAAI2D,KAAK,GAAK,KAAKA,KAAnB;AACA,QAAI+B,IAAI,GAAM,KAAKnB,eAAL,CAAqBd,KAArB,EAA4BJ,KAAK,CAACoB,IAAlC,CAAd;AACA,QAAIkB,OAAO,GAAGD,IAAI,CAACjB,IAAnB;AAEA,QAAImB,OAAO,GAAGvC,KAAK,CAAC1B,YAAN,GACV1B,MAAM,CAACoD,KAAK,CAACoB,IAAP,EAAad,KAAK,CAACJ,cAAnB,EAAmCoC,OAAnC,CADI,GAEV,GAAGtF,MAAH,CAAUgD,KAAK,CAACoB,IAAhB,EAAsBpE,MAAtB,CAA6BsF,OAA7B,CAFJ;;AAIA,QAAIA,OAAO,CAAC1B,MAAR,IAAkBN,KAAK,CAACJ,cAAN,IAAwB,CAAC,CAA3C,IAAgDF,KAAK,CAAC1B,YAA1D,EAAuE;AACtE,WAAK0D,QAAL,CAAc;AACb9B,QAAAA,cAAc,EAAEI,KAAK,CAACJ,cAAN,GAAuB;AAD1B,OAAd;AAGA;;AAED,SAAKsC,YAAL,CAAkBxC,KAAlB,EAAyBqC,IAAI,CAACjC,KAA9B,EAAqCmC,OAArC,EAA8C5F,KAA9C;AACA,GAxKiC;AA0KlC6F,EAAAA,YAAY,EAAE,UAASxC,KAAT,EAAgBsB,QAAhB,EAA0BiB,OAA1B,EAAmC5F,KAAnC,EAA0C;AAEvD,QAAI8F,QAAQ,GAAG,EAAf;AAEI,KAAC,KAAKzC,KAAL,CAAW0C,YAAX,IAA2BpG,OAA5B,EAAqCiG,OAArC;;AAED,QAAI,KAAKvC,KAAL,CAAWoB,IAAX,IAAmB,IAAvB,EAA4B;AACxBqB,MAAAA,QAAQ,CAACxC,WAAT,GAAuBsC,OAAvB;AACH;;AAED,QAAI,KAAKvC,KAAL,CAAWI,KAAX,IAAoB,IAAxB,EAA6B;AAC5BqC,MAAAA,QAAQ,CAAC1C,YAAT,GAAwBuB,QAAxB;AACA;;AAED,SAAKU,QAAL,CAAcS,QAAd;AAEC,KAAC,KAAKzC,KAAL,CAAW2C,QAAX,IAAuBrG,OAAxB,EAAiCgF,QAAjC,EAA2C,KAAKtB,KAAhD,EAAuDrD,KAAvD;AACJ,GA3LiC;AA6LlCiG,EAAAA,aAAa,EAAE,UAAS5C,KAAT,EAAgBrD,KAAhB,EAAuB;AAErC,QAAIkG,GAAG,GAAGlG,KAAK,CAACkG,GAAhB;;AAEA,QAAI,KAAK7C,KAAL,CAAW8C,SAAf,EAAyB;AACxB,WAAK9C,KAAL,CAAW8C,SAAX,CAAqBnG,KAArB;AACA;;AAED,QAAI,CAACqD,KAAK,CAACoB,IAAN,CAAWR,MAAZ,IAAsB,CAACZ,KAAK,CAAC1B,YAAjC,EAA8C;AAC7C;AACA;;AAED,QAAIuE,GAAG,IAAI,WAAP,IAAsBA,GAAG,IAAI,WAA7B,IAA4CA,GAAG,IAAI,YAAnD,IAAmEA,GAAG,IAAI,QAA9E,EAAuF;AACtF;AACA;;AAED,QAAIzC,KAAK,GAAGJ,KAAK,CAACI,KAAN,GAAc,EAA1B;AACA,QAAItD,KAAK,GAAG,KAAKwD,KAAL,CAAWJ,cAAvB;AACA,QAAIkB,IAAI,GAAIpB,KAAK,CAACoB,IAAlB;AAEA,QAAI2B,UAAJ;AACA,QAAIC,WAAJ;AAEA,QAAIC,cAAc,GAAG,KAAK1G,iBAAL,EAArB;AACA,QAAI2G,YAAY,GAAK,KAAK1G,eAAL,EAArB;;AAEA,QAAIyG,cAAc,GAAGC,YAArB,EAAkC;AACjC;AACA;;AAED,QAAIL,GAAG,IAAI,WAAP,IAAsBA,GAAG,IAAI,WAAjC,EAA6C;AAC5CE,MAAAA,UAAU,GAAG3C,KAAK,CAAC+C,SAAN,CAAgB,CAAhB,EAAmBF,cAAnB,CAAb;AACA;;AAED,QAAIJ,GAAG,IAAI,YAAP,IAAuBA,GAAG,IAAI,QAAlC,EAA2C;AAC1CG,MAAAA,WAAW,GAAG5C,KAAK,CAAC+C,SAAN,CAAgBD,YAAhB,CAAd;AACA;;AAED,QAAI,CAACL,GAAG,IAAI,WAAP,IAAsBA,GAAG,IAAI,WAA9B,KAA8CE,UAAU,KAAK,EAAjE,EAAoE;AAEnE;AACA;AAEA,UAAIjG,KAAK,IAAI,CAAC,CAAd,EAAgB;AACfA,QAAAA,KAAK,GAAGsE,IAAI,CAACR,MAAb;AACA;;AAED9D,MAAAA,KAAK;;AAEL,UAAIA,KAAK,IAAI,CAAb,EAAe;AACd,aAAKsG,iBAAL,CAAuBpD,KAAvB,EAA8BlD,KAA9B;AACAH,QAAAA,KAAK,CAACD,cAAN;AACA;AACD;;AAED,QAAI,CAACmG,GAAG,IAAI,YAAP,IAAuBA,GAAG,IAAI,QAA/B,KAA4CG,WAAW,IAAI,EAA3D,IAAiE5B,IAAI,CAACtE,KAAD,CAAzE,EAAiF;AAChFH,MAAAA,KAAK,CAACD,cAAN;AACA,WAAK0G,iBAAL,CAAuBpD,KAAvB,EAA8BlD,KAA9B,EAAqC,YAAU;AAC9C,aAAKL,iBAAL,CAAuB;AAACiB,UAAAA,KAAK,EAAE,CAAR;AAAWC,UAAAA,GAAG,EAAE;AAAhB,SAAvB;AACA,OAFoC,CAEnC0F,IAFmC,CAE9B,IAF8B,CAArC;AAGA;AACD,GA1PiC;AA4PlCC,EAAAA,SAAS,EAAE,UAAStD,KAAT,EAAgBlD,KAAhB,EAAuB;AACjC,QAAIyF,OAAO,GAAG,KAAKnB,IAAL,CAAUO,MAAV,CAAiB,UAASD,GAAT,EAAc6B,CAAd,EAAgB;AAC9C,aAAOA,CAAC,KAAKzG,KAAb;AACA,KAFa,CAAd;AAIA,QAAIoD,cAAc,GAAG,KAAKI,KAAL,CAAWJ,cAAhC;;AACA,QAAIA,cAAc,IAAI,CAAC,CAAnB,IAAwBA,cAAc,GAAGpD,KAA7C,EAAmD;AAClD;AACA;AACA,WAAKkF,QAAL,CAAc;AACb9B,QAAAA,cAAc,EAAEA,cAAc,GAAG;AADpB,OAAd;AAGA;;AAED,SAAKsC,YAAL,CAAkBxC,KAAlB,EAAyBA,KAAK,CAACI,KAA/B,EAAsCmC,OAAtC;AACA,GA3QiC;AA6QlCa,EAAAA,iBAAiB,EAAE,UAASpD,KAAT,EAAgBlD,KAAhB,EAAuB0G,QAAvB,EAAiC;AACnD,QAAIC,YAAY,GAAOzD,KAAK,CAACI,KAA7B;AACA,QAAIsD,gBAAgB,GAAG1D,KAAK,CAACJ,WAAN,CAAkB6D,YAAlB,CAAvB;AAEA,QAAInD,KAAK,GAAK,KAAKA,KAAnB;AACA,QAAIF,KAAJ;AAEA,QAAImC,OAAO,GAAG,EAAd;AACA,QAAInB,IAAI,GAAM,KAAKA,IAAnB;AACA,QAAImC,CAAC,GAAS,CAAd;AACA,QAAII,GAAG,GAAOvC,IAAI,CAACR,MAAnB;AAEA,QAAIV,cAAc,GAAGI,KAAK,CAACJ,cAA3B;AACA,QAAIwB,GAAJ;;AAEA,QAAI1B,KAAK,CAAC1B,YAAV,EAAuB;AAEtB,UAAIsF,eAAJ;AACA,UAAIC,aAAJ;;AAEA,aAAON,CAAC,GAAGI,GAAX,EAAgBJ,CAAC,EAAjB,EAAoB;AACnB7B,QAAAA,GAAG,GAAGN,IAAI,CAACmC,CAAD,CAAV;AAEAK,QAAAA,eAAe,GAAGL,CAAC,IAAIrD,cAAvB;AACA2D,QAAAA,aAAa,GAAKN,CAAC,IAAIzG,KAAvB;;AAEA,YAAI8G,eAAJ,EAAoB;AACnBF,UAAAA,gBAAgB,IAAInB,OAAO,CAACuB,IAAR,CAAaL,YAAb,CAApB;AACA;;AACD,YAAII,aAAJ,EAAkB;AACjBtB,UAAAA,OAAO,CAACuB,IAAR,CAAapC,GAAb;AACA,SAFD,MAEO;AACNtB,UAAAA,KAAK,GAAGsB,GAAR;AACA;AACD;;AAED,UAAIxB,cAAc,IAAI,CAAC,CAAvB,EAAyB;AACxBwD,QAAAA,gBAAgB,IAAInB,OAAO,CAACuB,IAAR,CAAaL,YAAb,CAApB;AACA,OAFD,MAEO;AACN,YAAIC,gBAAgB,IAAI5G,KAAK,IAAIoD,cAAjC,EAAgD;AAC/C;AACApD,UAAAA,KAAK;AACL;AACD;AACD,KA7BD,MA6BO;AACNyF,MAAAA,OAAO,GAAGnB,IAAV;AACAhB,MAAAA,KAAK,GAAGqD,YAAR;AACA;;AAED,QAAI3G,KAAK,IAAIyF,OAAO,CAAC3B,MAArB,EAA4B;AAC3B9D,MAAAA,KAAK,GAAG,CAAC,CAAT;AACA;;AACD,QAAIA,KAAK,GAAG,CAAZ,EAAc;AACbA,MAAAA,KAAK,GAAG,CAAC,CAAT;AACA;;AAED,SAAKkF,QAAL,CAAc;AACb9B,MAAAA,cAAc,EAAEpD;AADH,KAAd,EAEG0G,QAAQ,IAAIlH,OAFf;AAIA,SAAKkG,YAAL,CAAkBxC,KAAlB,EAAyBI,KAAzB,EAAgCmC,OAAhC;AACA,GA1UiC;AA4UlC/B,EAAAA,YAAY,EAAE,UAASuD,SAAT,EAAoBzD,KAApB,EAA2B;AACxC,QAAIN,KAAK,GAAG5D,MAAM,CAAC,EAAD,EAAK2H,SAAL,CAAlB;AAEA,SAAKC,aAAL,CAAmBhE,KAAnB,EAA0BM,KAA1B;AAEAN,IAAAA,KAAK,CAACiE,QAAN,GAAuB,KAAKC,eAAL,CAAqBlE,KAArB,EAA4BM,KAA5B,CAAvB;AACAN,IAAAA,KAAK,CAACoB,IAAN,GAAuB,KAAKA,IAAL,GAAY,KAAKI,WAAL,CAAiBxB,KAAjB,CAAnC;AACAA,IAAAA,KAAK,CAACI,KAAN,GAAuB,KAAK+D,YAAL,CAAkBnE,KAAlB,EAAyBM,KAAzB,CAAvB;AACAN,IAAAA,KAAK,CAACoE,cAAN,GAAuB,KAAKA,cAAL,CAAoBf,IAApB,CAAyB,IAAzB,EAA+BrD,KAA/B,CAAvB;AAEAA,IAAAA,KAAK,CAAC2C,QAAN,GAAkB,KAAKR,YAAL,CAAkBkB,IAAlB,CAAuB,IAAvB,EAA6BrD,KAA7B,CAAlB;AACAA,IAAAA,KAAK,CAACoC,MAAN,GAAkB,KAAKF,UAAL,CAAgBmB,IAAhB,CAAqB,IAArB,EAA2BrD,KAA3B,CAAlB;AACAA,IAAAA,KAAK,CAAC8C,SAAN,GAAkB,KAAKF,aAAL,CAAmBS,IAAnB,CAAwB,IAAxB,EAA8BrD,KAA9B,CAAlB;AACAA,IAAAA,KAAK,CAACiC,OAAN,GAAkB,KAAKL,WAAL,CAAiByB,IAAjB,CAAsB,IAAtB,EAA4BrD,KAA5B,CAAlB;AAEAA,IAAAA,KAAK,CAAChC,YAAN,GAAqB,KAArB;AAEA,WAAOgC,KAAP;AACA,GA9ViC;AAgWlCgE,EAAAA,aAAa,EAAE,UAAShE,KAAT,EAAgBM,KAAhB,EAAuB;AACrCN,IAAAA,KAAK,CAACqE,KAAN,GAAc,KAAKC,YAAL,CAAkBtE,KAAlB,EAAyBM,KAAzB,CAAd;AACAN,IAAAA,KAAK,CAACuE,UAAN,GAAmBnI,MAAM,CAAC,EAAD,EAAK4D,KAAK,CAAClB,iBAAX,EAA8BkB,KAAK,CAACuE,UAApC,CAAzB;AACAvE,IAAAA,KAAK,CAACwE,UAAN,GAAmBpI,MAAM,CAAC,EAAD,EAAK4D,KAAK,CAACrB,iBAAX,EAA8BqB,KAAK,CAACwE,UAApC,CAAzB;AAEAxE,IAAAA,KAAK,CAACyE,iBAAN,GAA0B,KAAKC,wBAAL,CAA8B1E,KAA9B,EAAqCM,KAArC,CAA1B;AAGA,WAAON,KAAK,CAACvB,YAAb;AACA,WAAOuB,KAAK,CAAClB,iBAAb;AACA,WAAOkB,KAAK,CAACrB,iBAAb;AACA,GA3WiC;AA6WlC+F,EAAAA,wBAAwB,EAAE,UAAS1E,KAAT,EAAgBM,KAAhB,EAAuB;AAChD,QAAI+D,KAAK,GAAGjI,MAAM,CAAC,EAAD,EAAK4D,KAAK,CAACN,wBAAX,EAAqC;AACtDiF,MAAAA,KAAK,EAAE3E,KAAK,CAACxB;AADyC,KAArC,EAEfwB,KAAK,CAACyE,iBAFS,CAAlB;AAIA,WAAOJ,KAAP;AACA,GAnXiC;AAqXlCC,EAAAA,YAAY,EAAE,UAAStE,KAAT,EAAgB;AAC7B,QAAIqE,KAAK,GAAGjI,MAAM,CAAC,EAAD,EAAK4D,KAAK,CAACvB,YAAX,EAAyBuB,KAAK,CAACqE,KAA/B,CAAlB;AAEA,WAAOA,KAAP;AACA,GAzXiC;AA2XlCF,EAAAA,YAAY,EAAE,UAASnE,KAAT,EAAgBM,KAAhB,EAAuB;AACjC,WAAO,KAAKH,QAAL,EAAP;AACH,GA7XiC;AA+XlCqB,EAAAA,WAAW,EAAE,UAASxB,KAAT,EAAgB;AAC5B,QAAIoB,IAAI,GAAIpB,KAAK,CAACoB,IAAlB;AACA,QAAId,KAAK,GAAG,KAAKA,KAAjB;;AAEA,QAAIc,IAAI,IAAI,IAAZ,EAAiB;AAChBA,MAAAA,IAAI,GAAGd,KAAK,CAACL,WAAb;AACA;;AAEDmB,IAAAA,IAAI,GAAGwD,KAAK,CAACC,OAAN,CAAczD,IAAd,KAAuBA,IAAI,CAACR,MAA5B,GAAoC,GAAG5D,MAAH,CAAUoE,IAAV,CAApC,GAAqD,EAA5D;AAEA,WAAOA,IAAI,CAACO,MAAL,CAAY3B,KAAK,CAACJ,WAAlB,CAAP;AACA,GA1YiC;AA4YlCsE,EAAAA,eAAe,EAAE,UAASlE,KAAT,EAAgBM,KAAhB,EAAuB;AACvC,WAAOlE,MAAM,CAAC,EAAD,EAAK4D,KAAK,CAACf,eAAX,EAA4Be,KAAK,CAACiE,QAAlC,CAAb;AACA,GA9YiC;AAgZlCG,EAAAA,cAAc,EAAE,UAASpE,KAAT,EAAgB8E,QAAhB,EAA0B;AACzC,QAAIC,MAAM,GAAGD,QAAb;AACA,QAAIxE,KAAK,GAAG,KAAKA,KAAjB;AAEA,QAAIc,IAAI,GAAGpB,KAAK,CAACoB,IAAjB;;AAEA,QAAIA,IAAI,CAACR,MAAT,EAAgB;AACfQ,MAAAA,IAAI,GAAGA,IAAI,CAAC4D,GAAL,CAAS,UAAStD,GAAT,EAAc5E,KAAd,EAAoB;AACnC,eAAO,KAAKmI,SAAL,CAAejF,KAAf,EAAsB0B,GAAtB,EAA2B5E,KAA3B,CAAP;AACA,OAFM,EAEJ,IAFI,CAAP;;AAIA,UAAIwD,KAAK,CAACJ,cAAN,IAAwB,CAAC,CAAzB,IAA8B,CAACF,KAAK,CAAC1B,YAAzC,EAAsD;AACrDyG,QAAAA,MAAM,GAAG3D,IAAI,CAACpE,MAAL,CAAY8H,QAAZ,CAAT;AACA,OAFD,MAEO;AACNC,QAAAA,MAAM,GAAG3D,IAAI,CAACnE,KAAL,CAAW,CAAX,EAAcqD,KAAK,CAACJ,cAApB,EACLlD,MADK,CACE8H,QADF,EAEL9H,MAFK,CAEEoE,IAAI,CAACnE,KAAL,CAAWqD,KAAK,CAACJ,cAAjB,CAFF,CAAT;AAGA;AACD;;AAED6E,IAAAA,MAAM,CAACjB,IAAP,CAAY,KAAKoB,iBAAL,CAAuBlF,KAAvB,CAAZ;AAEA,WAAO+E,MAAP;AACA,GAvaiC;AAyalCG,EAAAA,iBAAiB,EAAE,UAASlF,KAAT,EAAgB;AAClC,QAAIA,KAAK,CAAC1B,YAAV,EAAuB;AACtB;AACA;;AAED,WAAOrC,KAAK,CAAC4E,aAAN,CAAoB,OAApB,EAA6B;AACnCgC,MAAAA,GAAG,EAAE,kBAD8B;AAEnCsC,MAAAA,IAAI,EAAE,MAF6B;AAGnCpE,MAAAA,GAAG,EAAE,kBAH8B;AAInCqE,MAAAA,OAAO,EAAE,KAAKC,aAJqB;AAKnCvC,MAAAA,SAAS,EAAE,KAAKwC,eAAL,CAAqBjC,IAArB,CAA0B,IAA1B,EAAgCrD,KAAhC,CALwB;AAMnCqE,MAAAA,KAAK,EAAE;AACNkB,QAAAA,OAAO,EAAE,CADH;AAENC,QAAAA,KAAK,EAAE,CAFD;AAGNC,QAAAA,MAAM,EAAE,CAHF;AAINC,QAAAA,MAAM,EAAE,CAJF;AAKNxG,QAAAA,SAAS,EAAE,YALL;AAMNM,QAAAA,MAAM,EAAE,CANF,CAON;;AAPM;AAN4B,KAA7B,CAAP;AAgBA,GA9biC;AAgclC8F,EAAAA,eAAe,EAAE,UAAStF,KAAT,EAAgBrD,KAAhB,EAAsB;AAEtCA,IAAAA,KAAK,CAACD,cAAN;AAEA,QAAI0E,IAAI,GAAG,KAAKA,IAAhB;AACA,QAAIuC,GAAG,GAAGvC,IAAI,CAACR,MAAf;AACA,QAAIV,cAAc,GAAG,KAAKI,KAAL,CAAWJ,cAAhC;;AAEA,QAAI,CAACyD,GAAL,EAAS;AACR;AACA;;AAED,QAAId,GAAG,GAAGlG,KAAK,CAACkG,GAAhB;AAEA,QAAI8C,GAAJ;;AAEA,QAAI9C,GAAG,IAAI,WAAX,EAAuB;AACtB8C,MAAAA,GAAG,GAAG,CAAC,CAAP;AACA;;AACD,QAAI9C,GAAG,IAAI,YAAX,EAAwB;AACvB8C,MAAAA,GAAG,GAAG,CAAN;AACA;;AAED,QAAIC,QAAJ;;AAEA,QAAID,GAAJ,EAAQ;AACPC,MAAAA,QAAQ,GAAG1F,cAAc,GAAGyF,GAA5B;;AAEA,UAAIC,QAAQ,GAAG,CAAf,EAAiB;AAChBA,QAAAA,QAAQ,GAAGjC,GAAG,GAAG,CAAjB;AACA;;AAED,UAAIiC,QAAQ,IAAIjC,GAAhB,EAAoB;AACnBiC,QAAAA,QAAQ,GAAG,CAAX;AACA;;AACD,WAAKxC,iBAAL,CAAuBpD,KAAvB,EAA8B4F,QAA9B;AAEA,KAZD,MAYO;AAEN,UAAI/C,GAAG,IAAI,QAAP,IAAmBA,GAAG,IAAI,WAA9B,EAA0C;AACzC,aAAKS,SAAL,CAAetD,KAAf,EAAsBE,cAAtB;;AAEA,YAAI2C,GAAG,IAAI,WAAP,IAAsB3C,cAAc,KAAKyD,GAAG,GAAG,CAAnD,EAAqD;AACpDiC,UAAAA,QAAQ,GAAG1F,cAAc,GAAG,CAA5B;;AACA,cAAI0F,QAAQ,GAAG,CAAf,EAAiB;AAChBA,YAAAA,QAAQ,GAAG,CAAX;AACA;;AACDC,UAAAA,UAAU,CAAC,YAAU;AACpB,iBAAKzC,iBAAL,CAAuBpD,KAAvB,EAA8B4F,QAA9B;AACA,WAFU,CAETvC,IAFS,CAEJ,IAFI,CAAD,EAEI,CAFJ,CAAV;AAGA;;AAED,YAAIM,GAAG,IAAI,CAAX,EAAa;AACZ,eAAK5B,KAAL;AACA;AACD;;AAED,UAAIc,GAAG,IAAI,QAAX,EAAoB;AACnB,aAAKO,iBAAL,CAAuBpD,KAAvB,EAA8B,CAAC,CAA/B;AACA,aAAK+B,KAAL;AACA;AACA;AACD;AACD,GA/fiC;AAigBlC+D,EAAAA,WAAW,EAAE,YAAW;AACvB,SAAKC,aAAL,GAAqBC,UAArB,GAAkCjE,KAAlC;AACA,GAngBiC;AAqgBlCgE,EAAAA,aAAa,EAAE,YAAU;AACxB,WAAO,KAAKzI,IAAL,CAAUC,KAAV,CAAgBD,IAAhB,CAAqB2I,gBAA5B;AACA,GAvgBiC;AAygBlChB,EAAAA,SAAS,EAAE,UAASjF,KAAT,EAAgB0B,GAAhB,EAAqB5E,KAArB,EAA4B;AACtC,QAAIoJ,IAAJ;AACA,QAAI9H,YAAY,GAAG4B,KAAK,CAAC5B,YAAzB;;AAEA,QAAIA,YAAJ,EAAiB;AAChB,UAAI,OAAOA,YAAP,IAAuB,UAA3B,EAAsC;AACrC8H,QAAAA,IAAI,GAAG9H,YAAY,EAAnB;AACA,OAFD,MAEO;AACN8H,QAAAA,IAAI,GAAGjK,KAAK,CAAC4E,aAAN,CAAoB,MAApB,EAA4B;AAACwD,UAAAA,KAAK,EAAErE,KAAK,CAACyE,iBAAd;AAAiCxC,UAAAA,OAAO,EAAE,KAAKkE,eAAL,CAAqB9C,IAArB,CAA0B,IAA1B,EAAgCrD,KAAhC,EAAuC0B,GAAvC,EAA4C5E,KAA5C;AAA1C,SAA5B,EAA2H,GAA3H,CAAP;AACA;AACD;;AAED,QAAImH,QAAQ,GAAGjE,KAAK,CAACiE,QAArB;;AAEA,QAAI,CAACjE,KAAK,CAAC1B,YAAP,IAAuBxB,KAAK,IAAI,KAAKwD,KAAL,CAAWJ,cAA3C,IAA6DF,KAAK,CAAC/B,cAAvE,EAAsF;AACrFgG,MAAAA,QAAQ,GAAG7H,MAAM,CAAC,EAAD,EAAK6H,QAAL,EAAejE,KAAK,CAAClC,gBAArB,CAAjB;AACA;;AAED,WAAO7B,KAAK,CAAC4E,aAAN,CAAoB,MAApB,EAA4B;AAACgC,MAAAA,GAAG,EAAE/F,KAAN;AAAauH,MAAAA,KAAK,EAAEJ,QAApB;AAA8BmC,MAAAA,WAAW,EAAE1J,cAA3C;AAA2DuF,MAAAA,OAAO,EAAE,KAAKoE,UAAL,CAAgBhD,IAAhB,CAAqB,IAArB,EAA2BrD,KAA3B,EAAkC0B,GAAlC,EAAuC5E,KAAvC;AAApE,KAA5B,EACN4E,GADM,EAENwE,IAFM,CAAP;AAIA,GA/hBiC;AAiiBlCG,EAAAA,UAAU,EAAE,UAASrG,KAAT,EAAgB0B,GAAhB,EAAqB5E,KAArB,EAA4BH,KAA5B,EAAmC;AAC9C,QAAIqD,KAAK,CAAC/B,cAAV,EAAyB;AACxB,WAAK6H,WAAL;AACA;;AAEDnJ,IAAAA,KAAK,CAACkF,WAAN,CAAkBC,QAAlB,GAA6B,IAA7B;;AAEA,QAAInF,KAAK,CAACkF,WAAN,CAAkByE,QAAtB,EAA+B;AAC9B;AACA;;AAED,SAAKlD,iBAAL,CAAuBpD,KAAvB,EAA8BlD,KAA9B;AACA,GA7iBiC;AA+iBlCqJ,EAAAA,eAAe,EAAE,UAASnG,KAAT,EAAgB0B,GAAhB,EAAqB5E,KAArB,EAA4BH,KAA5B,EAAkC;AAClDA,IAAAA,KAAK,CAACkF,WAAN,CAAkByE,QAAlB,GAA6B,IAA7B;AACA,SAAKhD,SAAL,CAAetD,KAAf,EAAsBlD,KAAtB;AACA,GAljBiC;AAojBlCyJ,EAAAA,MAAM,EAAE,UAASnG,KAAT,EAAgBzD,KAAhB,EAAuB;AAC3B,QAAIY,KAAK,GAAG,KAAKD,IAAL,CAAUC,KAAtB;AAEAA,IAAAA,KAAK,CAACgJ,MAAN,CAAanG,KAAb,EAAoBzD,KAApB;AACH,GAxjBiC;AA0jBlCoF,EAAAA,KAAK,EAAE,UAAS3B,KAAT,EAAgBzD,KAAhB,EAAuB;AAC1B,SAAKW,IAAL,CAAUC,KAAV,CAAgBwE,KAAhB;AACH;AA5jBiC,CAAlB,CAAjB","sourcesContent":["'use strict';\n\nvar React  = require('react')\nvar Field  = require('react-input-field/src')\nvar assign = require('object-assign')\nvar normalize = require('react-style-normalizer')\n\nfunction emptyFn(){}\n\nvar getSelectionStart = require('./getSelectionStart')\nvar getSelectionEnd   = require('./getSelectionEnd')\nvar setSelectionRange = require('./setSelectionRange')\n\nvar preventDefault = function(event){\n\tevent.preventDefault()\n}\n\nfunction insert(target, index, what){\n\n\tif (index == -1){\n\t\treturn target.concat(what)\n\t}\n\n\treturn target.slice(0, index)\n\t\t\t.concat(what)\n\t\t\t.concat(target.slice(index))\n}\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'ReactTagField',\n\n\tgetSelectionStart: function() {\n\t\treturn getSelectionStart(this.refs.field.getInput())\n\t},\n\n\tgetSelectionEnd: function() {\n\t\treturn getSelectionEnd(this.refs.field.getInput())\n\t},\n\n\tsetSelectionRange: function(range) {\n\t\tvar start = range.start\n\t\tvar end   = range.end\n\n\t\tsetSelectionRange(this.refs.field.getInput(), range)\n\t},\n\n\tgetDefaultProps: function() {\n\t\treturn {\n\t\t\tminInputSize: 3,\n\n\t\t\tselectedTagStyle: {\n\t\t\t\tbackground: 'rgb(200, 200, 200)'\n\t\t\t},\n\t\t\tfocusOnClick: true,\n\t\t\tselectableTags: true,\n\n\t\t\tclearTool: false,\n\t\t\ttagOnBlur: false,\n\t\t\ttagClearTool: false,\n\t\t\tallowDuplicates: false,\n\t\t\teditableTags: true,\n\t\t\tdelimiter: ' ',\n\n\t\t\ttagClearToolColor: '#a8a8a8',\n\n\t\t\tdefaultStyle: {\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\tdefaultInputStyle: {\n\t\t\t\tflex: 'none',\n\t\t\t\talignSelf: 'center',\n\t\t\t\t// minWidth: 50\n\t\t\t},\n\n\t\t\tdefaultInnerStyle: {\n\t\t\t    display   : 'inline-flex',\n\t\t\t    flexFlow  : 'row wrap'\n\t\t\t},\n\n\t\t\tdefaultTagStyle: {\n\t\t\t\tdisplay     : 'inline-flex',\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\talignItems  : 'center',\n\t\t\t\tflex: 'none',\n\t\t\t\tflexFlow    : 'row',\n\t\t\t\tpadding: '6px 2px',\n\t\t\t\tmarginLeft  : 2,\n\t\t\t\tmarginTop  : 1,\n\t\t\t\tmarginBottom  : 1,\n\t\t\t\tborder      : '1px solid gray',\n\t\t\t\toverflow    : 'hidden',\n\t\t\t\twhiteSpace  : 'nowrap'\n\t\t\t},\n\n\t\t\tdefaultTagClearToolStyle: {\n\t\t\t\tcursor: 'pointer'\n\t\t\t},\n\n\t\t\tvalidateTag: function(x){\n\t\t\t\treturn x !== '' && x != null\n\t\t\t}\n\t\t}\n\t},\n\n\tgetInitialState: function(){\n\t    return {\n\t\t\tdefaultValue  : this.props.defaultValue,\n\t\t\tdefaultTags   : this.props.defaultTags,\n\t\t\tactiveTagIndex: -1\n\t    }\n\t},\n\n\tgetValue: function() {\n\t    var value = this.props.value === undefined?\n\t                    this.state.defaultValue:\n\t                    this.props.value\n\n\t    return value\n\t},\n\n\trender: function() {\n\n\t\tvar props     = this.prepareProps(this.props, this.state)\n\t\tvar inputSize = Math.max(props.value? props.value.length: 0, this.props.minInputSize)\n\n\t\treturn React.createElement(Field, React.__spread({ref: \"field\"},  props, {inputProps: {size: inputSize}}))\n\t},\n\n\tgetInfoForValue: function(value, propsTags) {\n\t\tvar props          = this.props\n\t\tvar state          = this.state\n\t\tvar activeTagIndex = state.activeTagIndex\n\n\t\tvar tags     = value.split(props.delimiter)\n\t\tvar newValue = tags[tags.length - 1]\n\t\tvar tagMap   = {}\n\n\t    if (!props.allowDuplicates){\n\t    \tpropsTags = propsTags || this.prepareTags(this.props)\n\n\t\t    propsTags.forEach(function(tag, index){\n\t\t    \tif (index != activeTagIndex){\n\t\t\t    \ttagMap[tag] = true\n\t\t\t    }\n\t\t    })\n\t\t}\n\n\t    tags = tags.slice(0, tags.length - 1).filter(function(x){\n\t    \treturn x && !tagMap[x]\n\t    })\n\n\t    return {\n\t\t\ttags : tags,\n\t\t\tvalue: newValue\n\t    }\n\n\t},\n\n\thandleClick: function(props, event) {\n\n\t\tif (!event.nativeEvent.tagClick){\n\t\t\tthis.props.focusOnClick && this.focus()\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: -1\n\t\t\t})\n\t\t}\n\n\t\t;(this.props.onClick || emptyFn)(event)\n\t},\n\n\thandleBlur: function(props, event) {\n\t\tif (props.tagOnBlur && props.validateTag(props.value)){\n\t\t\tthis.handleChange(props, props.value + props.delimiter, null, event)\n\t\t}\n\n\t\t;(this.props.onBlur || emptyFn)(event)\n\t},\n\n\thandleChange: function(props, value, inputProps, event){\n\t\tvar state   = this.state\n\t\tvar info    = this.getInfoForValue(value, props.tags)\n\t\tvar newTags = info.tags\n\n\t\tvar allTags = props.editableTags?\n\t\t\t\t\t\tinsert(props.tags, state.activeTagIndex, newTags):\n\t\t\t\t\t\t[].concat(props.tags).concat(newTags)\n\n\t\tif (newTags.length && state.activeTagIndex != -1 && props.editableTags){\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: state.activeTagIndex + 1\n\t\t\t})\n\t\t}\n\n\t\tthis.notifyChange(props, info.value, allTags, event)\n\t},\n\n\tnotifyChange: function(props, newValue, allTags, event) {\n\n\t\tvar newState = {}\n\n    \t;(this.props.onChangeTags || emptyFn)(allTags)\n\n    \tif (this.props.tags == null){\n    \t    newState.defaultTags = allTags\n    \t}\n\n\t    if (this.props.value == null){\n\t    \tnewState.defaultValue = newValue\n\t    }\n\n\t    this.setState(newState)\n\n\t    ;(this.props.onChange || emptyFn)(newValue, this.props, event)\n\t},\n\n\thandleKeyDown: function(props, event) {\n\n\t\tvar key = event.key\n\n\t\tif (this.props.onKeyDown){\n\t\t\tthis.props.onKeyDown(event)\n\t\t}\n\n\t\tif (!props.tags.length || !props.editableTags){\n\t\t\treturn\n\t\t}\n\n\t\tif (key != 'Backspace' && key != 'ArrowLeft' && key != 'ArrowRight' && key != 'Delete'){\n\t\t\treturn\n\t\t}\n\n\t\tvar value = props.value + ''\n\t\tvar index = this.state.activeTagIndex\n\t\tvar tags  = props.tags\n\n\t\tvar textToLeft\n\t\tvar textToRight\n\n\t\tvar selectionStart = this.getSelectionStart()\n\t\tvar selectionEnd   = this.getSelectionEnd()\n\n\t\tif (selectionStart < selectionEnd){\n\t\t\treturn\n\t\t}\n\n\t\tif (key == 'ArrowLeft' || key == 'Backspace'){\n\t\t\ttextToLeft = value.substring(0, selectionStart)\n\t\t}\n\n\t\tif (key == 'ArrowRight' || key == 'Delete'){\n\t\t\ttextToRight = value.substring(selectionEnd)\n\t\t}\n\n\t\tif ((key == 'Backspace' || key == 'ArrowLeft') && textToLeft === ''){\n\n\t\t\t//if there is no other character at the left of the cursor,\n\t\t\t//go to the tag before the cursor\n\n\t\t\tif (index == -1){\n\t\t\t\tindex = tags.length\n\t\t\t}\n\n\t\t\tindex--\n\n\t\t\tif (index >= 0){\n\t\t\t\tthis.setActiveTagIndex(props, index)\n\t\t\t\tevent.preventDefault()\n\t\t\t}\n\t\t}\n\n\t\tif ((key == 'ArrowRight' || key == 'Delete') && textToRight == '' && tags[index]){\n\t\t\tevent.preventDefault()\n\t\t\tthis.setActiveTagIndex(props, index, function(){\n\t\t\t\tthis.setSelectionRange({start: 0, end: 0})\n\t\t\t}.bind(this))\n\t\t}\n\t},\n\n\tremoveTag: function(props, index) {\n\t\tvar allTags = this.tags.filter(function(tag, i){\n\t\t\treturn i !== index\n\t\t})\n\n\t\tvar activeTagIndex = this.state.activeTagIndex\n\t\tif (activeTagIndex != -1 && activeTagIndex > index){\n\t\t\t//an item was removed from before the editing tag\n\t\t\t//so bring the editing index one down\n\t\t\tthis.setState({\n\t\t\t\tactiveTagIndex: activeTagIndex - 1\n\t\t\t})\n\t\t}\n\n\t\tthis.notifyChange(props, props.value, allTags)\n\t},\n\n\tsetActiveTagIndex: function(props, index, callback) {\n\t\tvar currentValue     = props.value\n\t\tvar shouldAddCurrent = props.validateTag(currentValue)\n\n\t\tvar state   = this.state\n\t\tvar value\n\n\t\tvar allTags = []\n\t\tvar tags    = this.tags\n\t\tvar i       = 0\n\t\tvar len     = tags.length\n\n\t\tvar activeTagIndex = state.activeTagIndex\n\t\tvar tag\n\n\t\tif (props.editableTags){\n\n\t\t\tvar addCurrentValue\n\t\t\tvar addCurrentTag\n\n\t\t\tfor (; i < len; i++){\n\t\t\t\ttag = tags[i]\n\n\t\t\t\taddCurrentValue = i == activeTagIndex\n\t\t\t\taddCurrentTag   = i != index\n\n\t\t\t\tif (addCurrentValue){\n\t\t\t\t\tshouldAddCurrent && allTags.push(currentValue)\n\t\t\t\t}\n\t\t\t\tif (addCurrentTag){\n\t\t\t\t\tallTags.push(tag)\n\t\t\t\t} else {\n\t\t\t\t\tvalue = tag\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (activeTagIndex == -1){\n\t\t\t\tshouldAddCurrent && allTags.push(currentValue)\n\t\t\t} else {\n\t\t\t\tif (shouldAddCurrent && index >= activeTagIndex){\n\t\t\t\t\t//the current value was added\n\t\t\t\t\tindex++\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tallTags = tags\n\t\t\tvalue = currentValue\n\t\t}\n\n\t\tif (index >= allTags.length){\n\t\t\tindex = -1\n\t\t}\n\t\tif (index < 0){\n\t\t\tindex = -1\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveTagIndex: index\n\t\t}, callback || emptyFn)\n\n\t\tthis.notifyChange(props, value, allTags)\n\t},\n\n\tprepareProps: function(thisProps, state) {\n\t\tvar props = assign({}, thisProps)\n\n\t\tthis.prepareStyles(props, state)\n\n\t\tprops.tagStyle       = this.prepareTagStyle(props, state)\n\t\tprops.tags           = this.tags = this.prepareTags(props)\n\t\tprops.value          = this.prepareValue(props, state)\n\t\tprops.renderChildren = this.renderChildren.bind(this, props)\n\n\t\tprops.onChange  = this.handleChange.bind(this, props)\n\t\tprops.onBlur    = this.handleBlur.bind(this, props)\n\t\tprops.onKeyDown = this.handleKeyDown.bind(this, props)\n\t\tprops.onClick   = this.handleClick.bind(this, props)\n\n\t\tprops.focusOnClick = false\n\n\t\treturn props\n\t},\n\n\tprepareStyles: function(props, state) {\n\t\tprops.style = this.prepareStyle(props, state)\n\t\tprops.innerStyle = assign({}, props.defaultInnerStyle, props.innerStyle)\n\t\tprops.inputStyle = assign({}, props.defaultInputStyle, props.inputStyle)\n\n\t\tprops.tagClearToolStyle = this.prepareTagClearToolStyle(props, state)\n\n\n\t\tdelete props.defaultStyle\n\t\tdelete props.defaultInnerStyle\n\t\tdelete props.defaultInputStyle\n\t},\n\n\tprepareTagClearToolStyle: function(props, state) {\n\t\tvar style = assign({}, props.defaultTagClearToolStyle, {\n\t\t\tcolor: props.tagClearToolColor\n\t\t}, props.tagClearToolStyle)\n\n\t\treturn style\n\t},\n\n\tprepareStyle: function(props) {\n\t\tvar style = assign({}, props.defaultStyle, props.style)\n\n\t\treturn style\n\t},\n\n\tprepareValue: function(props, state) {\n\t    return this.getValue()\n\t},\n\n\tprepareTags: function(props) {\n\t\tvar tags  = props.tags\n\t\tvar state = this.state\n\n\t\tif (tags == null){\n\t\t\ttags = state.defaultTags\n\t\t}\n\n\t\ttags = Array.isArray(tags) && tags.length? [].concat(tags): []\n\n\t\treturn tags.filter(props.validateTag)\n\t},\n\n\tprepareTagStyle: function(props, state) {\n\t\treturn assign({}, props.defaultTagStyle, props.tagStyle)\n\t},\n\n\trenderChildren: function(props, children) {\n\t\tvar result = children\n\t\tvar state = this.state\n\n\t\tvar tags = props.tags\n\n\t\tif (tags.length){\n\t\t\ttags = tags.map(function(tag, index){\n\t\t\t\treturn this.renderTag(props, tag, index)\n\t\t\t}, this)\n\n\t\t\tif (state.activeTagIndex == -1 || !props.editableTags){\n\t\t\t\tresult = tags.concat(children)\n\t\t\t} else {\n\t\t\t\tresult = tags.slice(0, state.activeTagIndex)\n\t\t\t\t\t\t\t.concat(children)\n\t\t\t\t\t\t\t.concat(tags.slice(state.activeTagIndex))\n\t\t\t}\n\t\t}\n\n\t\tresult.push(this.renderHiddenField(props))\n\n\t\treturn result\n\t},\n\n\trenderHiddenField: function(props) {\n\t\tif (props.editableTags){\n\t\t\treturn\n\t\t}\n\n\t\treturn React.createElement(\"input\", {\n\t\t\tkey: \"hiddenFocusField\", \n\t\t\ttype: \"text\", \n\t\t\tref: \"hiddenFocusField\", \n\t\t\tonFocus: this.onHiddenFocus, \n\t\t\tonKeyDown: this.onHiddenKeyDown.bind(this, props), \n\t\t\tstyle: {\n\t\t\t\topacity: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tmargin: 0,\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\tborder: 0\n\t\t\t\t// visibility: 'hidden'\n\t\t\t}}\n\t\t)\n\t},\n\n\tonHiddenKeyDown: function(props, event){\n\n\t\tevent.preventDefault()\n\n\t\tvar tags = this.tags\n\t\tvar len = tags.length\n\t\tvar activeTagIndex = this.state.activeTagIndex\n\n\t\tif (!len){\n\t\t\treturn\n\t\t}\n\n\t\tvar key = event.key\n\n\t\tvar dir\n\n\t\tif (key == 'ArrowLeft'){\n\t\t\tdir = -1\n\t\t}\n\t\tif (key == 'ArrowRight'){\n\t\t\tdir = 1\n\t\t}\n\n\t\tvar newIndex\n\n\t\tif (dir){\n\t\t\tnewIndex = activeTagIndex + dir\n\n\t\t\tif (newIndex < 0){\n\t\t\t\tnewIndex = len - 1\n\t\t\t}\n\n\t\t\tif (newIndex >= len){\n\t\t\t\tnewIndex = 0\n\t\t\t}\n\t\t\tthis.setActiveTagIndex(props, newIndex)\n\n\t\t} else {\n\n\t\t\tif (key == 'Delete' || key == 'Backspace'){\n\t\t\t\tthis.removeTag(props, activeTagIndex)\n\n\t\t\t\tif (key == 'Backspace' || activeTagIndex === len - 1){\n\t\t\t\t\tnewIndex = activeTagIndex - 1\n\t\t\t\t\tif (newIndex < 0){\n\t\t\t\t\t\tnewIndex = 0\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tthis.setActiveTagIndex(props, newIndex)\n\t\t\t\t\t}.bind(this), 0)\n\t\t\t\t}\n\n\t\t\t\tif (len == 1){\n\t\t\t\t\tthis.focus()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == 'Escape'){\n\t\t\t\tthis.setActiveTagIndex(props, -1)\n\t\t\t\tthis.focus()\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t},\n\n\tfocusHidden: function() {\n\t\tthis.getFocusField().getDOMNode().focus()\n\t},\n\n\tgetFocusField: function(){\n\t\treturn this.refs.field.refs.hiddenFocusField\n\t},\n\n\trenderTag: function(props, tag, index) {\n\t\tvar tool\n\t\tvar tagClearTool = props.tagClearTool\n\n\t\tif (tagClearTool){\n\t\t\tif (typeof tagClearTool == 'function'){\n\t\t\t\ttool = tagClearTool()\n\t\t\t} else {\n\t\t\t\ttool = React.createElement(\"span\", {style: props.tagClearToolStyle, onClick: this.onTagClearClick.bind(this, props, tag, index)}, \"✖\")\n\t\t\t}\n\t\t}\n\n\t\tvar tagStyle = props.tagStyle\n\n\t\tif (!props.editableTags && index == this.state.activeTagIndex && props.selectableTags){\n\t\t\ttagStyle = assign({}, tagStyle, props.selectedTagStyle)\n\t\t}\n\n\t\treturn React.createElement(\"span\", {key: index, style: tagStyle, onMouseDown: preventDefault, onClick: this.onTagClick.bind(this, props, tag, index)}, \n\t\t\ttag, \n\t\t\ttool\n\t\t)\n\t},\n\n\tonTagClick: function(props, tag, index, event) {\n\t\tif (props.selectableTags){\n\t\t\tthis.focusHidden()\n\t\t}\n\n\t\tevent.nativeEvent.tagClick = true\n\n\t\tif (event.nativeEvent.clearTag){\n\t\t\treturn\n\t\t}\n\n\t\tthis.setActiveTagIndex(props, index)\n\t},\n\n\tonTagClearClick: function(props, tag, index, event){\n\t\tevent.nativeEvent.clearTag = true\n\t\tthis.removeTag(props, index)\n\t},\n\n\tnotify: function(value, event) {\n\t    var field = this.refs.field\n\n\t    field.notify(value, event)\n\t},\n\n\tfocus: function(value, event) {\n\t    this.refs.field.focus()\n\t}\n})"]},"metadata":{},"sourceType":"script"}