{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nvar _const = require(\"./const\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar TagStore = /*#__PURE__*/function () {\n  function TagStore(options) {\n    _classCallCheck(this, TagStore);\n\n    this.tags = [];\n    this.options = options || {\n      validate: function validate() {}\n    };\n    this._listeners = [];\n  }\n\n  _createClass(TagStore, [{\n    key: \"subscribe\",\n    value: function subscribe(fn) {\n      this._listeners.push(fn);\n    }\n  }, {\n    key: \"broadcast\",\n    value: function broadcast() {\n      this._listeners.forEach(function (fn) {\n        fn();\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(text, cb) {\n      var newTag = {\n        id: _utils.default.uuid(),\n        text: text\n      };\n      this.tags.push(newTag);\n      cb && cb({}, newTag, this.tags.length - 1);\n      this.broadcast();\n    }\n  }, {\n    key: \"index\",\n    value: function index(text) {\n      var tagIndex = -1;\n\n      for (var i = 0, l = this.tags.length; i < l; i++) {\n        if (text === this.tags[i].text) {\n          tagIndex = i;\n          break;\n        }\n      }\n\n      return tagIndex;\n    }\n  }, {\n    key: \"insertAfterTag\",\n    value: function insertAfterTag(tag, text, cb) {\n      var tagIndex, newTag;\n      this.tags.forEach(function (t, i) {\n        if (t.id === tag.id) {\n          tagIndex = i;\n        }\n      });\n\n      if (tagIndex === void 0) {\n        return;\n      }\n\n      newTag = {\n        id: _utils.default.uuid(),\n        text: text\n      };\n      this.tags.splice(tagIndex + 1, 0, newTag);\n      cb && cb(null, newTag, tagIndex + 1);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(tagToSave, text) {\n      // tags should\n      // * be unique\n      // * length > 0\n      if (!text.length) {\n        throw _utils.default.error(_const.ERROR.EMPTY, _const.ERROR_MSG[_const.ERROR.EMPTY]);\n      }\n\n      for (var i = 0, l = this.tags.length; i < l; i++) {\n        var tag = this.tags[i];\n\n        if (tag === tagToSave) {\n          continue;\n        }\n\n        if (tag.text.trim() === text.trim()) {\n          throw _utils.default.error(_const.ERROR.REPEAT, _const.ERROR_MSG[_const.ERROR.REPEAT]);\n        }\n      }\n\n      this.options.validate(text, this.output());\n    }\n  }, {\n    key: \"save\",\n    value: function save(tagToSave, text, cb) {\n      try {\n        this.validate(tagToSave, text);\n        this.tags.forEach(function (tag) {\n          if (tag === tagToSave) {\n            tag.text = text;\n          }\n        });\n        cb && cb();\n        this.broadcast();\n      } catch (exception) {\n        cb(exception);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(tag) {\n      var text = typeof tag === \"string\" ? tag : tag.text;\n      this.tags = this.tags.filter(function (candidate) {\n        return candidate.text !== text;\n      });\n      this.broadcast();\n    }\n  }, {\n    key: \"output\",\n    value: function output() {\n      return this.tags.map(function (tag) {\n        return tag.text;\n      });\n    }\n  }]);\n\n  return TagStore;\n}();\n\nvar _default = TagStore;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Iasmina/Desktop/a2/assigenemnt2/node_modules/react-tageditor/lib/TagStore.js"],"names":["Object","defineProperty","exports","value","default","_utils","_interopRequireDefault","require","_const","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","TagStore","options","tags","validate","_listeners","subscribe","fn","push","broadcast","forEach","add","text","cb","newTag","id","uuid","index","tagIndex","l","insertAfterTag","tag","t","splice","tagToSave","error","ERROR","EMPTY","ERROR_MSG","trim","REPEAT","output","save","exception","remove","filter","candidate","map","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nvar _const = require(\"./const\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TagStore =\n/*#__PURE__*/\nfunction () {\n  function TagStore(options) {\n    _classCallCheck(this, TagStore);\n\n    this.tags = [];\n    this.options = options || {\n      validate: function validate() {}\n    };\n    this._listeners = [];\n  }\n\n  _createClass(TagStore, [{\n    key: \"subscribe\",\n    value: function subscribe(fn) {\n      this._listeners.push(fn);\n    }\n  }, {\n    key: \"broadcast\",\n    value: function broadcast() {\n      this._listeners.forEach(function (fn) {\n        fn();\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(text, cb) {\n      var newTag = {\n        id: _utils.default.uuid(),\n        text: text\n      };\n      this.tags.push(newTag);\n      cb && cb({}, newTag, this.tags.length - 1);\n      this.broadcast();\n    }\n  }, {\n    key: \"index\",\n    value: function index(text) {\n      var tagIndex = -1;\n\n      for (var i = 0, l = this.tags.length; i < l; i++) {\n        if (text === this.tags[i].text) {\n          tagIndex = i;\n          break;\n        }\n      }\n\n      return tagIndex;\n    }\n  }, {\n    key: \"insertAfterTag\",\n    value: function insertAfterTag(tag, text, cb) {\n      var tagIndex, newTag;\n      this.tags.forEach(function (t, i) {\n        if (t.id === tag.id) {\n          tagIndex = i;\n        }\n      });\n\n      if (tagIndex === void 0) {\n        return;\n      }\n\n      newTag = {\n        id: _utils.default.uuid(),\n        text: text\n      };\n      this.tags.splice(tagIndex + 1, 0, newTag);\n      cb && cb(null, newTag, tagIndex + 1);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(tagToSave, text) {\n      // tags should\n      // * be unique\n      // * length > 0\n      if (!text.length) {\n        throw _utils.default.error(_const.ERROR.EMPTY, _const.ERROR_MSG[_const.ERROR.EMPTY]);\n      }\n\n      for (var i = 0, l = this.tags.length; i < l; i++) {\n        var tag = this.tags[i];\n\n        if (tag === tagToSave) {\n          continue;\n        }\n\n        if (tag.text.trim() === text.trim()) {\n          throw _utils.default.error(_const.ERROR.REPEAT, _const.ERROR_MSG[_const.ERROR.REPEAT]);\n        }\n      }\n\n      this.options.validate(text, this.output());\n    }\n  }, {\n    key: \"save\",\n    value: function save(tagToSave, text, cb) {\n      try {\n        this.validate(tagToSave, text);\n        this.tags.forEach(function (tag) {\n          if (tag === tagToSave) {\n            tag.text = text;\n          }\n        });\n        cb && cb();\n        this.broadcast();\n      } catch (exception) {\n        cb(exception);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(tag) {\n      var text = typeof tag === \"string\" ? tag : tag.text;\n      this.tags = this.tags.filter(function (candidate) {\n        return candidate.text !== text;\n      });\n      this.broadcast();\n    }\n  }, {\n    key: \"output\",\n    value: function output() {\n      return this.tags.map(function (tag) {\n        return tag.text;\n      });\n    }\n  }]);\n\n  return TagStore;\n}();\n\nvar _default = TagStore;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}