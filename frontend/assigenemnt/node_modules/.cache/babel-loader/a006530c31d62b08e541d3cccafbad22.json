{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Iasmina\\\\Desktop\\\\a2\\\\assigenemnt2\\\\src\\\\container\\\\SmrtViewQuestion.js\",\n    _s = $RefreshSig$();\n\nimport ViewQuestion from '../presentational/ViewQuestion';\nimport AnswarePresenterInstance from '../presenter/AnswarePresenter';\nimport QuestionPresenterInstance from '../presenter/QuestionPresenter';\nimport AppPresenterInstance from '../presenter/AppPresenter';\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SmartViewQuestion() {\n  _s();\n\n  const [question, setQuestion] = useState({\n    title: \"\",\n    body: \"\",\n    tags: [],\n    createTime: \"\"\n  });\n  const {\n    index\n  } = useParams();\n  const [text, setText] = useState({\n    text: \"\",\n    authorUsername: \"Username1\",\n    createTime: \"\",\n    referenceQuestion: index\n  });\n  const [chAnsware, setChAnsware] = useState({\n    text: \"\"\n  });\n\n  const onChAnsware = newValue => {\n    setChAnsware({\n      text: newValue\n    });\n  };\n\n  const [answares, setAnswares] = useState({\n    answares: AnswarePresenterInstance.getAnsware(index)\n  });\n  useEffect(() => {\n    setQuestion(QuestionPresenterInstance.getQuestionById(index));\n  }, []);\n\n  const onChangeTextArea = (property, newValue) => {\n    setText({ ...text,\n      [property]: newValue\n    });\n  };\n\n  const onAddAnsware = () => {\n    var date = new Date();\n    setText({ ...text,\n      createTime: moment(date).format(\"YYYY-MM-DD HH:MM:SS\")\n    });\n    AnswarePresenterInstance.addAnsware(text);\n    setAnswares({\n      answares: AnswarePresenterInstance.getAnsware(index)\n    });\n  };\n\n  const onOpenEditAnsware = (proprety, newValue) => {\n    setText({ ...text,\n      [proprety]: newValue\n    });\n  };\n\n  const onEditAnsware = () => {\n    var answaresi = AnswarePresenterInstance.getAnswares();\n    var ind = answaresi.indexOf(answaresi.find(element => element.text === chAnsware.text));\n    console.log(ind);\n    AnswarePresenterInstance.editAnsware(ind, text.text);\n    setAnswares({\n      answares: AnswarePresenterInstance.getAnsware(index)\n    });\n  };\n\n  const onVote = (ud, type, text) => {\n    if (type === \"question\") {\n      var userVotes = VotesPresenterInstance.getVotesBy(\"Username1\");\n      var vote = userVotes.find(item => item.id === index && item.type === \"question\");\n\n      if (vote === undefined) {\n        if (ud === \"up\") {\n          console.log(\"am ajuns aici pt up\");\n          QuestionPresenterInstance.upvote(index);\n          VotesPresenterInstance.addVote({\n            user: \"Username1\",\n            type: \"question\",\n            id: index\n          });\n          setQuestion(QuestionPresenterInstance.getQuestionById(index));\n        } else {\n          if (ud === \"down\") {\n            console.log(\"am ajuns aici pt down\");\n            QuestionPresenterInstance.downvote(index);\n            VotesPresenterInstance.addVote({\n              user: \"Username1\",\n              type: \"question\",\n              id: index\n            });\n            setQuestion(QuestionPresenterInstance.getQuestionById(index));\n          }\n        }\n      }\n    } else {\n      var answaresi = AnswarePresenterInstance.getAnswares();\n      var ind = answaresi.indexOf(answaresi.find(element => element.text === text));\n      var userVotes = VotesPresenterInstance.getVotesBy(\"Username1\");\n      var vote = userVotes.find(item => item.id === ind && item.type === \"answare\");\n\n      if (vote === undefined) {\n        if (ud === \"up\") {\n          console.log(\"am ajuns aici pt up\");\n          AnswarePresenterInstance.upvote(ind);\n          VotesPresenterInstance.addVote({\n            user: \"Username1\",\n            type: \"answare\",\n            id: ind\n          });\n          setAnswares({\n            answares: AnswarePresenterInstance.getAnsware(index)\n          });\n        } else {\n          if (ud === \"down\") {\n            console.log(\"am ajuns aici pt down\");\n            AnswarePresenterInstance.downvote(ind);\n            VotesPresenterInstance.addVote({\n              user: \"Username1\",\n              type: \"answare\",\n              id: ind\n            });\n            setAnswares({\n              answares: AnswarePresenterInstance.getAnsware(index)\n            });\n          }\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ViewQuestion, {\n    title: question.title,\n    body: question.body,\n    createTime: question.createTime,\n    tags: question.tags,\n    answares: answares.answares,\n    text: text.text,\n    onChangeTextArea: onChangeTextArea,\n    onAddAnsware: onAddAnsware,\n    onOpenEditAnsware: onOpenEditAnsware,\n    onEditAnsware: onEditAnsware,\n    onChAnsware: onChAnsware\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 13\n  }, this);\n}\n\n_s(SmartViewQuestion, \"oNa9iGU6KretzxYgkbzKJUxjpj4=\", false, function () {\n  return [useParams];\n});\n\n_c = SmartViewQuestion;\n;\nexport default SmartViewQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"SmartViewQuestion\");","map":{"version":3,"sources":["C:/Users/Iasmina/Desktop/a2/assigenemnt2/src/container/SmrtViewQuestion.js"],"names":["ViewQuestion","AnswarePresenterInstance","QuestionPresenterInstance","AppPresenterInstance","useEffect","useState","useParams","moment","SmartViewQuestion","question","setQuestion","title","body","tags","createTime","index","text","setText","authorUsername","referenceQuestion","chAnsware","setChAnsware","onChAnsware","newValue","answares","setAnswares","getAnsware","getQuestionById","onChangeTextArea","property","onAddAnsware","date","Date","format","addAnsware","onOpenEditAnsware","proprety","onEditAnsware","answaresi","getAnswares","ind","indexOf","find","element","console","log","editAnsware","onVote","ud","type","userVotes","VotesPresenterInstance","getVotesBy","vote","item","id","undefined","upvote","addVote","user","downvote"],"mappings":"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","sourcesContent":["import ViewQuestion from '../presentational/ViewQuestion'\r\nimport AnswarePresenterInstance from '../presenter/AnswarePresenter'\r\nimport QuestionPresenterInstance from '../presenter/QuestionPresenter'\r\nimport AppPresenterInstance from '../presenter/AppPresenter'\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport moment from 'moment'\r\n\r\n\r\nfunction SmartViewQuestion() {\r\n    const [question, setQuestion] = useState({\r\n        title: \"\",\r\n        body: \"\",\r\n        tags: [],\r\n        createTime:\"\"\r\n    });\r\n    const { index } = useParams();\r\n\r\n    const [text, setText] = useState({\r\n        text: \"\",\r\n        authorUsername: \"Username1\",\r\n        createTime: \"\",\r\n        referenceQuestion: index\r\n    });\r\n\r\n    const [chAnsware, setChAnsware] = useState({\r\n        text: \"\"\r\n    });\r\n\r\n    const onChAnsware = (newValue) => {\r\n        setChAnsware({\r\n            text:newValue\r\n        });\r\n    }\r\n\r\n    const [answares, setAnswares] = useState({\r\n        answares: AnswarePresenterInstance.getAnsware(index)\r\n    });\r\n\r\n    useEffect(() => {\r\n        setQuestion(QuestionPresenterInstance.getQuestionById(index))\r\n    }, []);\r\n\r\n\r\n    const onChangeTextArea = (property, newValue) => {\r\n        setText({\r\n            ...text,\r\n            [property]: newValue\r\n        });\r\n    }\r\n\r\n\r\n\r\n    const onAddAnsware = () => {\r\n        var date = new Date()\r\n        setText({\r\n            ...text,\r\n            createTime: moment(date).format(\"YYYY-MM-DD HH:MM:SS\")\r\n        });\r\n        AnswarePresenterInstance.addAnsware(text);\r\n        setAnswares({\r\n            answares: AnswarePresenterInstance.getAnsware(index)\r\n        })\r\n        \r\n    }\r\n\r\n    const onOpenEditAnsware = (proprety,newValue) => {\r\n        setText({\r\n            ...text,\r\n            [proprety]: newValue\r\n        });\r\n    }\r\n\r\n    const onEditAnsware = () => {\r\n        var answaresi = AnswarePresenterInstance.getAnswares()\r\n        var ind = answaresi.indexOf(answaresi.find(element => element.text === chAnsware.text))\r\n        console.log(ind)\r\n        AnswarePresenterInstance.editAnsware(ind, text.text);\r\n        setAnswares({\r\n            answares: AnswarePresenterInstance.getAnsware(index)\r\n        })\r\n    }\r\n\r\n    const onVote = (ud, type, text) => {\r\n        if (type === \"question\") {\r\n            var userVotes = VotesPresenterInstance.getVotesBy(\"Username1\")\r\n            var vote = userVotes.find(item => item.id === index && item.type === \"question\")\r\n            if (vote === undefined) {\r\n                if (ud === \"up\") {\r\n                    console.log(\"am ajuns aici pt up\")\r\n                    QuestionPresenterInstance.upvote(index)\r\n                    VotesPresenterInstance.addVote({\r\n                        user: \"Username1\",\r\n                        type: \"question\",\r\n                        id: index\r\n                    });\r\n                    setQuestion(QuestionPresenterInstance.getQuestionById(index));\r\n\r\n                } else {\r\n                    if (ud === \"down\") {\r\n                        console.log(\"am ajuns aici pt down\")\r\n                        QuestionPresenterInstance.downvote(index)\r\n\r\n                        VotesPresenterInstance.addVote({\r\n                            user: \"Username1\",\r\n                            type: \"question\",\r\n                            id: index\r\n                        });\r\n                        setQuestion(QuestionPresenterInstance.getQuestionById(index))\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            var answaresi = AnswarePresenterInstance.getAnswares()\r\n            var ind = answaresi.indexOf(answaresi.find(element => element.text === text))\r\n            var userVotes = VotesPresenterInstance.getVotesBy(\"Username1\")\r\n            var vote = userVotes.find(item => item.id === ind && item.type === \"answare\")\r\n            if (vote === undefined) {\r\n                if (ud === \"up\") {\r\n                    console.log(\"am ajuns aici pt up\")\r\n                    AnswarePresenterInstance.upvote(ind)\r\n                    VotesPresenterInstance.addVote({\r\n                        user: \"Username1\",\r\n                        type: \"answare\",\r\n                        id: ind\r\n                    });\r\n                    setAnswares({\r\n                        answares: AnswarePresenterInstance.getAnsware(index)\r\n                    })\r\n\r\n                } else {\r\n                    if (ud === \"down\") {\r\n                        console.log(\"am ajuns aici pt down\")\r\n                        AnswarePresenterInstance.downvote(ind)\r\n\r\n                        VotesPresenterInstance.addVote({\r\n                            user: \"Username1\",\r\n                            type: \"answare\",\r\n                            id: ind\r\n                        });\r\n                        setAnswares({\r\n                            answares: AnswarePresenterInstance.getAnsware(index)\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (<ViewQuestion title={question.title}\r\n        body={question.body}\r\n        createTime={question.createTime}\r\n        tags={question.tags}\r\n        answares={answares.answares}\r\n        text={text.text}\r\n        onChangeTextArea={onChangeTextArea}\r\n        onAddAnsware={onAddAnsware}\r\n        onOpenEditAnsware={onOpenEditAnsware}\r\n        onEditAnsware={onEditAnsware}\r\n        onChAnsware={onChAnsware}\r\n    />\r\n    );\r\n};\r\nexport default SmartViewQuestion\r\n"]},"metadata":{},"sourceType":"module"}